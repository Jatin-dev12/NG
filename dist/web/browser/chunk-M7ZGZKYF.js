import{a as mt,c as dt}from"./chunk-57NOG5XR.js";import{c as st}from"./chunk-P6JLYCKV.js";import"./chunk-6WPNMGAC.js";import{$a as Se,$b as Te,A as ve,B as ge,Da as N,E as fe,Fc as ot,H as Ce,J as Ne,K as je,Ma as xe,Mc as lt,N as he,Na as ie,Nb as ae,Nc as Fe,O as Y,Oa as ye,Oc as at,P as S,Pa as ne,Q as E,Qa as oe,Qc as Ge,R as j,Rb as Re,Rc as rt,Sa as J,Sb as we,Sc as P,Tc as Q,Ub as re,Vb as qe,Wb as it,ab as Ee,na as D,q as H,s as G,u as W,v as _e,z as _}from"./chunk-IAI7ZALY.js";import{O as K,R as le,aa as be,ba as z,ca as ze}from"./chunk-PS3DXR7F.js";import{f as nt}from"./chunk-JKO3ADSL.js";import{$b as V,Bc as M,Cc as a,Db as o,Dc as f,Eb as x,Ec as w,Ga as q,Kc as T,La as b,Lc as F,Ma as R,Mc as We,Pb as p,Pd as Ue,Qd as Z,Rb as Le,Rc as I,Sc as A,Tc as De,Ub as pe,Ud as Me,Xb as v,Yb as u,Zb as L,_b as O,_c as de,a as te,bc as et,cc as tt,gc as n,hc as i,ic as d,lc as $,mc as U,tc as C,ub as g,vc as c,yc as ue,zc as y}from"./chunk-G7L63APJ.js";var ke=(()=>{let l=class l{};l.\u0275fac=function(r){return new(r||l)},l.\u0275cmp=q({type:l,selectors:[["app-issued-requests"]],standalone:!0,features:[T],decls:1,vars:0,template:function(r,m){r&1&&d(0,"router-outlet")},dependencies:[le]});let t=l;return t})();var ct=t=>["/requests/contact/view",t],pt=(()=>{let l=class l{constructor(s){this.gs=s}get status(){let s="None",r="secondary";switch(this.item.status){case S.USER_PROFILE_CONTACT_STATUS_PENDING:s="Pending",r="secondary";break;case S.USER_PROFILE_CONTACT_STATUS_ACCEPT:s="Accepted",r="primary";break;case S.USER_PROFILE_CONTACT_STATUS_DECLINED:s="Rejected",r="danger";break;case S.USER_PROFILE_CONTACT_STATUS_VISITED:s="Assigned",r="primary";break;case S.USER_PROFILE_CONTACT_STATUS_RESUBMITTED:s="Re-Submitted",r="secondary";break;default:break}return{status:s,cls:r}}};l.\u0275fac=function(r){return new(r||l)(x(P))},l.\u0275cmp=q({type:l,selectors:[["app-proposal-listing-item"],["","app-proposal-listing-item",""]],inputs:{item:"item"},standalone:!0,features:[T],decls:10,vars:12,consts:[[1,"row","align-items-center"],[1,"col"],[3,"routerLink"],[1,"btndivone"]],template:function(r,m){r&1&&(n(0,"div",0)(1,"div",1)(2,"a",2),a(3),i()(),n(4,"div",1),a(5),i(),n(6,"div",1)(7,"div",3)(8,"a",2),a(9),i()()()()),r&2&&(o(2),p("routerLink",We(8,ct,m.item.id)),o(1),f(m.item.id),o(2),w(" ",(m.gs.identity==null?null:m.gs.identity.id)===m.item.user_id?m.item==null||m.item.contact==null?null:m.item.contact.name:m.item!=null&&m.item.user?m.item==null||m.item.user==null?null:m.item.user.name:m.item==null?null:m.item.email," "),o(3),pe("btn btn-",m.status.cls,""),p("routerLink",We(10,ct,m.item.id)),o(1),f(m.status.status))},dependencies:[z]});let t=l;return t})();function Et(t,l){t&1&&(n(0,"div",20),a(1,"Request Sent to"),i())}function bt(t,l){t&1&&(n(0,"div",20),a(1,"Request is received from"),i())}function Rt(t,l){t&1&&(n(0,"div",20),a(1,"Request Sent to"),i())}function wt(t,l){t&1&&(n(0,"div",20),a(1,"Request Sent to"),i())}var Ye=()=>({height:"10px",width:"100%"});function qt(t,l){t&1&&(n(0,"div",23)(1,"div",19)(2,"div",20),d(3,"ngx-skeleton-loader",24),i(),n(4,"div",20),d(5,"ngx-skeleton-loader",24),i(),n(6,"div",20),d(7,"ngx-skeleton-loader",24),i()()()),t&2&&(o(3),p("theme",F(3,Ye)),o(2),p("theme",F(4,Ye)),o(2),p("theme",F(5,Ye)))}function Tt(t,l){if(t&1&&O(0,qt,8,6,"div",25,L),t&2){let e=c();V(e.gs.generateFake(3))}}function Ft(t,l){if(t&1&&d(0,"div",26),t&2){let e=l.$implicit;p("item",e)}}function kt(t,l){if(t&1&&d(0,"img",28),t&2){let e=c(4);y("src","",e.gs.imgUrl,"/owner-pending-requests.svg",g)}}function It(t,l){if(t&1&&d(0,"img",28),t&2){let e=c(4);y("src","",e.gs.imgUrl,"/owner-requests-history.svg",g)}}function Lt(t,l){if(t&1&&v(0,kt,1,1,"img",28)(1,It,1,1,"img",28),t&2){let e=c(3);u(0,e.title==="Pending Requests"?0:-1),o(1),u(1,e.title==="Requests History"?1:-1)}}function Ot(t,l){if(t&1&&d(0,"img",28),t&2){let e=c(4);y("src","",e.gs.imgUrl,"/manager-pending-requests.svg",g)}}function Vt(t,l){if(t&1&&d(0,"img",28),t&2){let e=c(4);y("src","",e.gs.imgUrl,"/manager-requests-history.svg",g)}}function Pt(t,l){if(t&1&&v(0,Ot,1,1,"img",28)(1,Vt,1,1,"img",28),t&2){let e=c(3);u(0,e.title==="Pending Requests"?0:-1),o(1),u(1,e.title==="Requests History"?1:-1)}}function At(t,l){if(t&1&&d(0,"img",28),t&2){let e=c(4);y("src","",e.gs.imgUrl,"/vender-pending-requests.svg",g)}}function Dt(t,l){if(t&1&&d(0,"img",28),t&2){let e=c(4);y("src","",e.gs.imgUrl,"/vender-requests-history.svg",g)}}function Ut(t,l){if(t&1&&v(0,At,1,1,"img",28)(1,Dt,1,1,"img",28),t&2){let e=c(3);u(0,e.title==="Pending Requests"?0:-1),o(1),u(1,e.title==="Requests History"?1:-1)}}function Mt(t,l){if(t&1&&a(0),t&2){let e=c(3);w(" ",e.title," not found. ")}}function Nt(t,l){if(t&1&&(n(0,"div",27),v(1,Lt,2,2)(2,Pt,2,2)(3,Ut,2,2)(4,Mt,1,1),i()),t&2){let e=c(2),s;o(1),u(1,(s=e.gs.identity==null?null:e.gs.identity.role)===e.Enums.ROLE_OWNER?1:s===e.Enums.ROLE_MANAGERS?2:s===e.Enums.ROLE_VENDORS?3:4)}}function jt(t,l){if(t&1&&(O(0,Ft,1,1,"div",29,L,!1,Nt,5,1),I(3,"async")),t&2){let e=c(),s;V((s=A(3,1,e.catalogs))==null?null:s.items)}}function zt(t,l){if(t&1){let e=U();n(0,"div",30)(1,"app-pagination",31),C("getPage",function(r){b(e);let m=c();return R(m.handlePagination(r))}),I(2,"async"),i()()}if(t&2){let e=c();o(1),p("pagination",A(2,2,e.catalogs))("page",e.page)}}var Gt=()=>({standalone:!0}),Ve=(()=>{let l=class l{constructor(s,r){this.gs=s,this.activeRoute=r,this.catalogs=this.gs.store.select(N.ContactSelectors[E.Contact.listing]),this.loading=this.gs.store.select(N.ContactLoadingKey[`${E.Contact.listing}Loading`]),this.title="Pending Requests",this.parent_title="Request received for proposals",this.params={q:"",sort:"-id",page:0,size:8},this.q="",this.url="",this.page=1,this.Enums=S}ngOnInit(){this.activeRoute.title.subscribe(r=>this.title=r);let s=this.activeRoute.snapshot.routeConfig?.data;this.url=s.url,this.parent_title=s.parent_title,s.url==="pending-requests"||s.url==="requests-history"?this.params=Object.assign({},this.params,{contact_id:this.gs.identity?.id}):this.params=Object.assign({},this.params,{user_id:this.gs.identity?.id}),this.params=Object.assign({},this.params,{relation:s.relation,status:s.status}),this.gs.is_manager&&(this.params=Object.assign({},this.params,{contact_id:this.gs.identity?.id})),this.onLoad()}onLoad(){let s=D.ContactParams({method:"GET",params:null,params2:this.params,key:E.Contact.listing});this.gs.store.dispatch(s)}search(){this.gs.identity?.role===S.ROLE_OWNER&&(this.params=Object.assign({},this.params,{type:"contact",q:this.q,page:0})),this.gs.identity?.role===S.ROLE_MANAGERS&&(this.params=Object.assign({},this.params,{type:"user",q:this.q,page:0})),this.onLoad()}clear(){this.q="",this.params=Object.assign({},this.params,{q:this.q,page:0}),this.onLoad()}handlePagination(s){this.page=s,this.params=Object.assign({},this.params,{page:s-1}),this.onLoad()}};l.\u0275fac=function(r){return new(r||l)(x(P),x(K))},l.\u0275cmp=q({type:l,selectors:[["app-proposal-listing"]],standalone:!0,features:[T],decls:41,vars:13,consts:[[1,"request-listing-page"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"searchtop"],[1,"row"],[1,"col-sm-12"],[1,"searchdiv"],[1,"input-group"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],["id","basic-addon2","type","button",1,"input-group-text",3,"click"],["alt","Search",3,"src"],[1,"btndiv"],["type","button",3,"click"],[1,"listingdiv"],[1,"listingbox"],[1,"propertytop"],[1,"row","align-items-center"],[1,"col"],[1,"propertybottom"],["class","handle-pagination"],[1,"propertylist"],["count","1",3,"theme"],["class","propertylist"],["app-proposal-listing-item","",1,"propertylist",3,"item"],[1,"notfound"],["alt","Images",3,"src"],["app-proposal-listing-item","","class","propertylist",3,"item"],[1,"handle-pagination"],[3,"pagination","page","getPage"]],template:function(r,m){if(r&1&&(n(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),a(5,"Home"),i()(),n(6,"li",3),a(7,"Requests"),i(),n(8,"li",3),a(9),i(),n(10,"li",5),a(11),i()()(),n(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"div",10)(17,"input",11),C("ngModelChange",function(k){return m.q=k})("keyup.enter",function(){return m.search()}),i(),n(18,"button",12),C("click",function(){return m.search()}),d(19,"img",13),i()(),n(20,"div",14)(21,"button",15),C("click",function(){return m.clear()}),a(22,"Clear"),i()()()()()(),n(23,"div",16)(24,"div",17)(25,"div",18)(26,"div",19)(27,"div",20),a(28,"Request No."),i(),v(29,Et,2,0)(30,bt,2,0)(31,Rt,2,0)(32,wt,2,0),n(33,"div",20),a(34,"Status"),i()()(),n(35,"div",21),v(36,Tt,2,0),I(37,"async"),v(38,jt,4,3),i()()(),v(39,zt,3,4,"div",22),I(40,"async"),i()),r&2){let h,k;o(9),f(m.parent_title),o(2),f(m.title),o(6),p("ngModel",m.q)("ngModelOptions",F(12,Gt)),o(2),y("src","",m.gs.imgUrl,"/search-btn-2.svg",g),o(10),u(29,(h=m.gs.identity==null?null:m.gs.identity.role)===m.Enums.ROLE_OWNER?29:h===m.Enums.ROLE_MANAGERS?30:h===m.Enums.ROLE_VENDORS?31:32),o(7),u(36,A(37,8,m.loading)?36:38),o(3),u(39,((k=A(40,10,m.catalogs))==null?null:k.total)>m.params.size?39:-1)}},dependencies:[z,Ee,Se,pt,qe,Z,Y,H,W,he,ve]});let t=l;return t})();function Bt(t,l){if(t&1){let e=U();n(0,"button",27),C("click",function(){b(e);let r=c();return R(r.decline())}),d(1,"img",28)(2,"img",29),a(3,"Reject "),i(),n(4,"button",30),C("click",function(){b(e);let r=c();return R(r.accept())}),d(5,"img",29)(6,"img",29),a(7,"Accept "),i()}if(t&2){let e=c();p("appLadda",e.decline_loading),o(1),y("src","",e.gs.imgUrl,"/reject-2.svg",g),o(1),y("src","",e.gs.imgUrl,"/vector-10.svg",g),o(2),p("appLadda",e.accept_loading),o(1),y("src","",e.gs.imgUrl,"/vacant.svg",g),o(1),y("src","",e.gs.imgUrl,"/vector-10.svg",g)}}function $t(t,l){if(t&1){let e=U();n(0,"div",31)(1,"button",27),C("click",function(){b(e);let r=c();return R(r.remove())}),d(2,"img",29)(3,"img",29),a(4,"Delete Request "),i()()}if(t&2){let e=c();o(1),p("appLadda",e.remove_loading),o(1),y("src","",e.gs.imgUrl,"/delete-2.svg",g),o(1),y("src","",e.gs.imgUrl,"/vector-10.svg",g)}}function Ht(t,l){if(t&1&&(n(0,"div",13)(1,"div",7)(2,"div",14),a(3,"Attachment"),i(),n(4,"div",15)(5,"a",32),a(6),i()()()()),t&2){let e=c();o(5),p("href",e.item==null||e.item.doc==null?null:e.item.doc.path,g)("target","_blank"),o(1),f(e.item==null||e.item.doc==null?null:e.item.doc.filename)}}function Wt(t,l){if(t&1&&(n(0,"div",33)(1,"h4"),a(2,"Request is sent to"),i(),n(3,"div",34),d(4,"img",35),i(),n(5,"div",36)(6,"h5"),a(7),i(),n(8,"div",37),a(9),i(),n(10,"div",38),a(11),i()(),d(12,"div",25),i()),t&2){let e=c(),s;o(4),p("src",e.item==null||e.item.contact==null?null:e.item.contact.avatar,g)("alt",e.item==null||e.item.contact==null?null:e.item.contact.name),o(3),f(e.item==null||e.item.contact==null?null:e.item.contact.name),o(2),f(!(e.item==null||e.item.contact==null)&&e.item.contact.title?e.item==null||e.item.contact==null?null:e.item.contact.title:e.gs.removeLastS(e.item==null||e.item.contact==null?null:e.item.contact.role)),o(2),w(" ",(s=e.item==null||e.item.contact==null||e.item.contact.location==null?null:e.item.contact.location.location)!==null&&s!==void 0?s:"--"," ")}}function Yt(t,l){if(t&1&&(n(0,"div",33)(1,"h4"),a(2,"Request is received from"),i(),n(3,"div",34),d(4,"img",35),i(),n(5,"div",36)(6,"h5"),a(7),i(),n(8,"div",37),a(9),i(),n(10,"div",38),a(11),i()(),d(12,"div",25),i()),t&2){let e=c(),s;o(4),p("src",e.item==null||e.item.user==null?null:e.item.user.avatar,g)("alt",e.item==null||e.item.user==null?null:e.item.user.name),o(3),f(e.item==null||e.item.user==null?null:e.item.user.name),o(2),f(!(e.item==null||e.item.user==null)&&e.item.user.title?e.item==null||e.item.user==null?null:e.item.user.title:e.gs.removeLastS(e.item==null||e.item.user==null?null:e.item.user.role)),o(2),w(" ",(s=e.item==null||e.item.user==null||e.item.user.location==null?null:e.item.user.location.location)!==null&&s!==void 0?s:"--"," ")}}var Kt=()=>[import("./chunk-ZBD7FM6B.js").then(t=>t.OneToOneChatComponent)];function Xt(t,l){if(t&1&&d(0,"app-one-to-one-chat",39),t&2){let e=c(2);p("message_id",e.item==null?null:e.item.message_id)("profile",(e.gs.identity==null?null:e.gs.identity.id)===(e.item==null?null:e.item.user_id)?e.item==null?null:e.item.contact:e.item==null?null:e.item.user)}}function Zt(t,l){t&1&&(v(0,Xt,1,2),et(1,0,Kt),tt())}function Jt(t,l){if(t&1&&(n(0,"div",66),a(1),i()),t&2){let e=c(3);o(1),w("",(e.gs.identity==null?null:e.gs.identity.id)===(e.item==null?null:e.item.user_id)?e.item==null||e.item.contact==null?null:e.item.contact.name:e.item==null||e.item.user==null?null:e.item.user.name," has rejected the request.")}}function Qt(t,l){t&1&&(n(0,"div",66),a(1,"You have rejected the request."),i())}function ei(t,l){if(t&1&&v(0,Jt,2,1,"div",65)(1,Qt,2,0),t&2){let e=c(2);u(0,(e.gs.identity==null?null:e.gs.identity.id)===(e.item==null?null:e.item.user_id)?0:1)}}function ti(t,l){t&1&&(n(0,"div",66),a(1,"Your request is sent."),i())}function ii(t,l){if(t&1&&(n(0,"p"),a(1," You received "),n(2,"span",66),a(3),i(),a(4),i()),t&2){let e=c(3);o(3),w("Request #",e.item==null?null:e.item.id,""),o(1),w(" from ",(e.gs.identity==null?null:e.gs.identity.id)===(e.item==null?null:e.item.user_id)?e.item==null||e.item.contact==null?null:e.item.contact.name:e.item==null||e.item.user==null?null:e.item.user.name,".")}}function ni(t,l){if(t&1&&(v(0,ti,2,0,"div",65)(1,ii,5,2),a(2," You will be able to start communication once request is accepted. ")),t&2){let e=c(2);u(0,(e.gs.identity==null?null:e.gs.identity.id)===(e.item==null?null:e.item.user_id)?0:1)}}function oi(t,l){if(t&1&&(n(0,"div",40)(1,"div",41)(2,"div",42)(3,"div",43),d(4,"img",44),i(),n(5,"div",45)(6,"div",46)(7,"div",7)(8,"div",15)(9,"h4"),a(10),i(),n(11,"time"),a(12),i()()()()()(),n(13,"div",47)(14,"ul",48),d(15,"li",49),i()(),n(16,"div",50),v(17,ei,2,1)(18,ni,3,1),i(),n(19,"div",51)(20,"div",52)(21,"div",53),d(22,"textarea",54),i(),n(23,"div",55)(24,"div",56)(25,"div",57)(26,"label",58),d(27,"input",59)(28,"img",29),i()(),n(29,"div",60)(30,"a",61),d(31,"i",62),i(),n(32,"button",63),d(33,"i",64),i()()()()()()()()),t&2){let e=c();o(4),p("src",(e.gs.identity==null?null:e.gs.identity.id)===(e.item==null?null:e.item.user_id)?e.item==null||e.item.contact==null?null:e.item.contact.avatar:e.item==null||e.item.user==null?null:e.item.user.avatar,g),o(6),w(" ",(e.gs.identity==null?null:e.gs.identity.id)===(e.item==null?null:e.item.user_id)?e.item==null||e.item.contact==null?null:e.item.contact.name:e.item==null||e.item.user==null?null:e.item.user.name," "),o(2),f((e.gs.identity==null?null:e.gs.identity.id)===(e.item==null?null:e.item.user_id)?!(e.item==null||e.item.contact==null)&&e.item.contact.title?e.item==null||e.item.contact==null?null:e.item.contact.title:e.gs.removeLastS(e.item==null||e.item.contact==null?null:e.item.contact.role):!(e.item==null||e.item.user==null)&&e.item.user.title?e.item==null||e.item.user==null?null:e.item.user.title:e.gs.removeLastS(e.item==null||e.item.user==null?null:e.item.user.role)),o(5),u(17,(e.item==null?null:e.item.status)===e.Enums.USER_PROFILE_CONTACT_STATUS_DECLINED?17:-1),o(1),u(18,(e.item==null?null:e.item.status)===e.Enums.USER_PROFILE_CONTACT_STATUS_PENDING?18:-1),o(10),y("src","",e.gs.imgUrl,"/attach.svg",g)}}var _t=(()=>{let l=class l{constructor(s,r,m,h){this.gs=s,this.activeRoute=r,this.confirmDialog=m,this.itemService=h,this.itemObservable=this.gs.store.select(N.ContactSelectors[E.Contact.view]),this.loading=this.gs.store.select(N.ContactLoadingKey[`${E.Contact.view}Loading`]),this.item=null,this.item_id=null,this.accept_loading=!1,this.decline_loading=!1,this.remove_loading=!1,this.complete_loading=!1,this.Enums=S,this.item_id=this.activeRoute.snapshot.params.id}ngOnInit(){this.onLoad(),this.itemObservable.subscribe(s=>{this.item=s})}onLoad(){let s=D.ContactParams({method:"GET",params:null,params2:{primary_id:this.item_id},key:E.Contact.view});this.gs.store.dispatch(s)}accept(){this.confirmDialog.confirm({header:"Accept?",icon:`<img src="${this.gs.imgUrl}/accept.svg" alt="" />`,message:"Are you sure you want to accept the request?"},()=>{this.accept_loading=!0;let s={status:S.USER_PROFILE_CONTACT_STATUS_ACCEPT};this.itemService.contact("POST",{form:s},{primary_id:this.item_id}).subscribe(r=>{this.gs.store.dispatch(D.ContactList({data:r.data,key:E.Contact.view})),this.accept_loading=!1,this.gs.alert("You have successfully accepted the request"),this.gs.store.dispatch(D.ProfileParams({method:"GET",params:null,params2:{primary_id:this.gs.identity?.id},key:"load_profile"})),setTimeout(()=>{this.onLoad()},5e3)},r=>{this.accept_loading=!1})},()=>console.log("No clicked"))}decline(){this.confirmDialog.confirm({header:"Reject?",icon:`<img src="${this.gs.imgUrl}/reject.svg" alt="" />`,message:"Are you sure you want to reject the request?"},()=>{this.decline_loading=!0;let s={status:S.USER_PROFILE_CONTACT_STATUS_DECLINED};this.itemService.contact("POST",{form:s},{primary_id:this.item_id}).subscribe(r=>{this.gs.store.dispatch(D.ContactList({data:r.data,key:E.Contact.view})),this.decline_loading=!1,this.gs.store.dispatch(D.ProfileParams({method:"GET",params:null,params2:{primary_id:this.gs.identity?.id},key:"load_profile"})),this.gs.alert("You have successfully rejected the request.")},r=>{this.decline_loading=!1})},()=>console.log("No clicked"))}remove(){this.confirmDialog.confirm({header:"Delete Request?",icon:`<img src="${this.gs.imgUrl}/reject.svg" alt="" />`,message:"Are you sure you want to delete this request?"},()=>{this.remove_loading=!0,this.itemService.contact("DELETE",null,{primary_id:this.item_id}).subscribe(s=>{this.remove_loading=!1,this.gs.alert("You have successfully deleted the request sent to manager.","danger"),this.gs.store.dispatch(D.ProfileParams({method:"GET",params:null,params2:{primary_id:this.gs.identity?.id},key:"load_profile"})),this.gs.router("/requests/contact/send-pending-requests")},s=>{this.remove_loading=!1})},()=>console.log("No clicked"))}markAsCompleted(){this.confirmDialog.confirm({header:"Confirm!",message:"Are you sure you want to accept the request?"},()=>{this.complete_loading=!0;let s={status:S.USER_PROFILE_CONTACT_STATUS_VISITED};this.itemService.contact("POST",{form:s},{primary_id:this.item_id}).subscribe(r=>{this.gs.store.dispatch(D.ContactList({data:r.data,key:E.Contact.view})),this.complete_loading=!1,this.gs.store.dispatch(D.ProfileParams({method:"GET",params:null,params2:{primary_id:this.gs.identity?.id},key:"load_profile"})),this.gs.alert("Accept")},r=>{this.complete_loading=!1})},()=>console.log("No clicked"))}ngOnDestroy(){this.gs.store.dispatch(D.ContactList({data:null,key:E.Contact.view}))}};l.\u0275fac=function(r){return new(r||l)(x(P),x(K),x(re),x(Q))},l.\u0275cmp=q({type:l,selectors:[["app-proposal-view"]],standalone:!0,features:[T],decls:66,vars:12,consts:[[1,"bill-view-page","request-view"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"btndivtop"],[1,"row"],[1,"col-sm-6"],["class","col-sm-6 text-right"],[1,"bv-middle"],[1,"col-sm-5"],[1,"prodetails"],[1,"detailbox"],[1,"col-sm-4"],[1,"col-sm-8"],["class","detailbox"],[1,"discription"],[1,"left-scroll","css-scroll"],[1,"content"],["class","billsent"],[1,"biilsbottom"],[1,"created"],["alt","Images",1,"create",3,"src"],[1,"right"],[1,"clearfix"],[1,"col-sm-7"],["type","button",1,"btn","btn-danger",3,"appLadda","click"],["alt","",1,"reject",3,"src"],["alt","",3,"src"],["type","button",1,"btn","btn-primary",3,"appLadda","click"],[1,"col-sm-6","text-right"],["download","",3,"href","target"],[1,"billsent"],[1,"image"],[3,"src","alt"],[1,"detail"],[1,"desi"],[1,"address"],[3,"message_id","profile"],[1,"common-chat"],[1,"msg-list-box"],[1,"user-info","d-flex","align-items-center"],[1,"image","pl-3"],["alt","avatar",1,"rounded-circle",3,"src"],[1,"caption","col","d-flex","align-items-center"],[1,"left","col"],[1,"right-scroll","css-scroll"],[1,"msg-list"],[1,"text-center"],[1,"rmtxt"],[1,"comment-form",2,"opacity","0.5","pointer-events","none"],[1,"group","clearfix"],[1,"text","float-start"],["placeholder","Write Your Message.....","name","text","maxlength","350",1,"form-control","pe-0"],[1,"mess-type-box","float-end"],[1,"write-mess-right"],[1,"attachment"],["for","file-upload",1,"file","btn","btn-primary","rounded-circle","bg-transparent","border-0"],["type","file","name","attachments","multiple","true","id","file-upload",2,"position","absolute","width","22px","opacity","0","display","none"],[1,"botton"],["mat-stroked-button","","color","primary",1,"imojibtn","bg-transparent"],[1,"far","fa-smile"],["mat-raised-button","","color","primary",1,"sendbtn"],[1,"fas","fa-paper-plane"],["class","text-primary"],[1,"text-primary"]],template:function(r,m){if(r&1&&(n(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),a(5,"Home"),i()(),n(6,"li",3),a(7,"requests"),i(),n(8,"li",3),a(9),i(),n(10,"li",5),a(11," Request Details "),i()()(),n(12,"div",6)(13,"div",7)(14,"div",8),v(15,Bt,8,6),i(),v(16,$t,5,3,"div",9),i()(),n(17,"div",10)(18,"div",7)(19,"div",11)(20,"div",12)(21,"div",13)(22,"div",7)(23,"div",14),a(24,"Request No"),i(),n(25,"div",15),a(26),i()()(),n(27,"div",13)(28,"div",7)(29,"div",14),a(30,"Requester"),i(),n(31,"div",15),a(32),i()()(),n(33,"div",13)(34,"div",7)(35,"div",14),a(36,"Type of Request"),i(),n(37,"div",15),a(38),i()()(),v(39,Ht,7,3,"div",16),i(),n(40,"div",17)(41,"h4"),a(42,"Description"),i(),n(43,"div",18)(44,"div",19),a(45),i()()(),v(46,Wt,13,5,"div",20)(47,Yt,13,5),n(48,"div",21)(49,"div",22),d(50,"img",23),n(51,"div",24)(52,"h5"),a(53,"Status :"),i(),a(54," Unassigned "),i(),d(55,"div",25),i(),n(56,"div",22),d(57,"img",23),n(58,"div",24)(59,"h5"),a(60,"Schedule Date & Time"),i(),a(61," NA "),i(),d(62,"div",25),i()()(),n(63,"div",26),v(64,Zt,3,0)(65,oi,34,6),i()()()()),r&2){let h,k;o(9),w(" ",(m.gs.identity==null?null:m.gs.identity.id)===(m.item==null?null:m.item.user_id)?"Request sent for proposal":"Request Received for Proposal"," "),o(6),u(15,(m.item==null?null:m.item.contact_id)===(m.gs.identity==null?null:m.gs.identity.id)&&(m.item==null?null:m.item.status)===m.Enums.USER_PROFILE_CONTACT_STATUS_PENDING?15:-1),o(1),u(16,(m.item==null?null:m.item.user_id)===(m.gs.identity==null?null:m.gs.identity.id)&&(m.item==null?null:m.item.status)===m.Enums.USER_PROFILE_CONTACT_STATUS_PENDING?16:-1),o(10),f(m.item==null?null:m.item.id),o(6),f(m.item==null||m.item.user==null?null:m.item.user.name),o(6),f((h=m.item==null?null:m.item.type_of_request)!==null&&h!==void 0?h:"-"),o(1),u(39,m.item!=null&&m.item.doc_id?39:-1),o(6),w(" ",(k=m.item==null?null:m.item.description)!==null&&k!==void 0?k:"--"," "),o(1),u(46,(m.gs.identity==null?null:m.gs.identity.id)===(m.item==null?null:m.item.user_id)?46:47),o(4),y("src","",m.gs.imgUrl,"/status-red.svg",g),o(7),y("src","",m.gs.imgUrl,"/schedule.svg",g),o(7),u(64,m.item!=null&&m.item.message_id?64:65)}},dependencies:[z,ae]});let t=l;return t})();var vt=(()=>{let l=class l{};l.\u0275fac=function(r){return new(r||l)},l.\u0275cmp=q({type:l,selectors:[["app-proposals"]],standalone:!0,features:[T],decls:1,vars:0,template:function(r,m){r&1&&d(0,"router-outlet")},dependencies:[le]});let t=l;return t})();var gt=(()=>{let l=class l{constructor(s,r){this.gs=s,this.modalService=r}ngOnInit(){}view(){let s=this.modalService.open(Ge,{windowClass:"center",backdrop:"static",keyboard:!1,animation:!0,centered:!0,size:"sm"});s.componentInstance.catalog=this.item.catalog,s.result.then(r=>{r&&this.gs.router(`${this.url}${this.item.id}`)},r=>{console.log("reason",r)})}};l.\u0275fac=function(r){return new(r||l)(x(P),x(J))},l.\u0275cmp=q({type:l,selectors:[["app-received-listing-item"],["","app-received-listing-item",""]],inputs:{item:"item",url:"url"},standalone:!0,features:[T],decls:15,vars:11,consts:[[1,"row","align-items-center"],[1,"col"],["routerLink",".",3,"click"],[1,"btndiv"],[3,"click"]],template:function(r,m){r&1&&(n(0,"div",0)(1,"div",1)(2,"a",2),C("click",function(){return m.view()}),a(3),i()(),n(4,"div",1),a(5),i(),n(6,"div",1),a(7),i(),n(8,"div",1),a(9),I(10,"date"),i(),n(11,"div",1)(12,"div",3)(13,"a",4),C("click",function(){return m.view()}),a(14),i()()()()),r&2&&(o(3),f(m.item.id),o(2),f(m.item.user.name),o(2),f(m.item.catalog_id),o(2),f(De(10,8,m.item.created_at*1e3,"short")),o(4),pe("btn btn-",m.item.assign_to?"primary":"secondary",""),o(1),w(" ",m.item.assign_to?"Assigned":"Unassigned"," "))},dependencies:[z,Me]});let t=l;return t})();function li(t,l){if(t&1&&(n(0,"div",31)(1,"div",32)(2,"a",33),a(3,"Add Requests"),d(4,"i",34),i()()()),t&2){let e=c();o(2),y("routerLink","/requests/",e.gs.requestUrl,"")}}var Pe=()=>({height:"10px",width:"100%"});function ai(t,l){t&1&&(n(0,"div",35)(1,"div",28)(2,"div",29),d(3,"ngx-skeleton-loader",36),i(),n(4,"div",29),d(5,"ngx-skeleton-loader",36),i(),n(6,"div",29),d(7,"ngx-skeleton-loader",36),i(),n(8,"div",29),d(9,"ngx-skeleton-loader",36),i(),n(10,"div",29),d(11,"ngx-skeleton-loader",36),i()()()),t&2&&(o(3),p("theme",F(5,Pe)),o(2),p("theme",F(6,Pe)),o(2),p("theme",F(7,Pe)),o(2),p("theme",F(8,Pe)),o(2),p("theme",F(9,Pe)))}function ri(t,l){if(t&1&&O(0,ai,12,10,"div",37,L),t&2){let e=c();V(e.gs.generateFake(3))}}function si(t,l){if(t&1&&d(0,"div",40),t&2){let e=l.$implicit,s=c(2);p("item",e)("url",s.url)}}function mi(t,l){t&1&&(n(0,"div",41),a(1,"Request not found."),i())}function di(t,l){if(t&1){let e=U();n(0,"div",42)(1,"app-pagination",43),C("getPage",function(r){b(e);let m=c(2);return R(m.handlePagination(r))}),I(2,"async"),i()()}if(t&2){let e=c(2),s;o(1),p("pagination",(s=A(2,2,e.catalogs))==null?null:s.pagination)("page",e.params.page)}}function ci(t,l){if(t&1&&(O(0,si,1,2,"div",44,L),I(2,"async"),v(3,mi,2,0,"div",38),I(4,"async"),I(5,"async"),v(6,di,3,4,"div",39),I(7,"async")),t&2){let e=c(),s,r,m;V((s=A(2,2,e.catalogs))==null?null:s.items),o(3),u(3,((r=A(4,4,e.catalogs))==null?null:r.items)===null||((r=A(5,6,e.catalogs))==null?null:r.items.length)===0?3:-1),o(3),u(6,((m=A(7,8,e.catalogs))==null||m.pagination==null?null:m.pagination.totalCount)>e.params["per-page"]?6:-1)}}var Xe=()=>({standalone:!0}),ee=(()=>{let l=class l{constructor(s,r){this.gs=s,this.activeRoute=r,this.catalogs=this.gs.store.select(N.RequestSelectors[E.Request.listing]),this.loading=this.gs.store.select(N.RequestLoadingKey[`${E.Request.listing}Loading`]),this.params={q:"",sort:"-id",catalog_id:"",id:"",is_assign:"",relation:"",key:E.Request.received,page:0,size:20},this.q="",this.catalog_id="",this.id="",this.url=""}ngOnInit(){let s=this.activeRoute.snapshot.routeConfig?.data;this.url=`/requests/received/${s.relation}/view/`,this.params=Object.assign({},this.params,{status:s.status,relation:s.relation}),this.onLoad()}onLoad(){let s=D.RequestParams({method:"GET",params:null,params2:this.params,key:E.Request.listing});this.gs.store.dispatch(s)}search(){this.params=Object.assign({},this.params,{q:this.q,page:1}),this.onLoad()}onEnterRequest(){this.params=Object.assign({},this.params,{id:this.id,page:1}),this.onLoad()}onEnterCatalog(){this.params=Object.assign({},this.params,{catalog_id:this.catalog_id,page:1}),this.onLoad()}handleStatus(s){let{value:r}=s.target;this.params=Object.assign({},this.params,{is_assign:r,page:1}),this.onLoad()}handlePagination(s){this.params=Object.assign({},this.params,{page:s}),this.onLoad()}};l.\u0275fac=function(r){return new(r||l)(x(P),x(K))},l.\u0275cmp=q({type:l,selectors:[["app-received-listing"]],standalone:!0,features:[T],decls:62,vars:13,consts:[[1,"request-listing-page"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"searchtop"],[1,"row"],[1,"col-sm-10"],[1,"searchdiv"],[1,"input-group"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"input-group-text"],["type","button",1,"btn",3,"click"],["src","assets/search-meg.svg","alt","Search"],["class","col-sm-2"],[1,"rl-filter"],[1,"col-sm-3"],[1,"form-group"],["type","text","name","requestno",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],[1,"select"],["name","status",1,"form-control",3,"change"],["value","","selected",""],["value","1"],["value","0"],[1,"listingdiv"],[1,"listingbox"],[1,"propertytop"],[1,"row","align-items-center"],[1,"col"],[1,"propertybottom"],[1,"col-sm-2"],[1,"btndiv"],[1,"btn","btn-primary",3,"routerLink"],[1,"fas","fa-plus"],[1,"propertylist"],["count","1",3,"theme"],["class","propertylist"],["class","notfound"],["class",""],["app-received-listing-item","",1,"propertylist",3,"item","url"],[1,"notfound"],[1,""],[3,"pagination","page","getPage"],["app-received-listing-item","","class","propertylist",3,"item","url"]],template:function(r,m){r&1&&(n(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),a(5,"Home"),i()(),n(6,"li",5),a(7,"Requests"),i()()(),n(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"input",11),C("ngModelChange",function(k){return m.q=k}),i(),n(14,"span",12)(15,"button",13),C("click",function(){return m.search()}),d(16,"img",14),i()()()()(),v(17,li,5,1,"div",15),i()(),n(18,"div",16)(19,"h4"),a(20,"Filter By :"),i(),n(21,"div",7)(22,"div",17)(23,"div",18)(24,"label"),a(25,"Request No"),i(),n(26,"input",19),C("ngModelChange",function(k){return m.id=k})("keyup.enter",function(){return m.onEnterRequest()}),i()()(),n(27,"div",17)(28,"div",18)(29,"label"),a(30,"Property ID"),i(),n(31,"input",19),C("ngModelChange",function(k){return m.catalog_id=k})("keyup.enter",function(){return m.onEnterCatalog()}),i()()(),n(32,"div",17)(33,"div",18)(34,"label"),a(35,"Status"),i(),n(36,"div",20)(37,"select",21),C("change",function(k){return m.handleStatus(k)}),n(38,"option",22),a(39,"- Please Select -"),i(),n(40,"option",23),a(41,"Assigned"),i(),n(42,"option",24),a(43,"Unassigned"),i()()()()()()(),n(44,"div",25)(45,"div",26)(46,"div",27)(47,"div",28)(48,"div",29),a(49,"Request No."),i(),n(50,"div",29),a(51,"Request Sent"),i(),n(52,"div",29),a(53,"Property ID"),i(),n(54,"div",29),a(55,"Update"),i(),n(56,"div",29),a(57,"Status"),i()()(),n(58,"div",30),v(59,ri,2,0),I(60,"async"),v(61,ci,8,10),i()()()()),r&2&&(o(13),p("ngModel",m.q)("ngModelOptions",F(10,Xe)),o(4),u(17,m.gs.is_owner||m.gs.is_manager||m.gs.is_tenant?17:-1),o(9),p("ngModel",m.id)("ngModelOptions",F(11,Xe)),o(5),p("ngModel",m.catalog_id)("ngModelOptions",F(12,Xe)),o(28),u(59,A(60,8,m.loading)?59:61))},dependencies:[z,Y,Ne,je,H,W,he,ve,Ee,Se,gt,qe,Z]});let t=l;return t})();function pi(t,l){t&1&&$(0)}function ui(t,l){t&1&&$(0)}function _i(t,l){if(t&1&&(n(0,"div",12),v(1,pi,1,0,"ng-container",13)(2,ui,1,0,"ng-container",13),i()),t&2){c();let e=M(21),s=M(23);o(1),p("ngTemplateOutlet",e),o(1),p("ngTemplateOutlet",s)}}function vi(t,l){t&1&&$(0)}function gi(t,l){t&1&&$(0)}function fi(t,l){if(t&1&&(n(0,"div",12),v(1,vi,1,0,"ng-container",13)(2,gi,1,0,"ng-container",13),i()),t&2){c();let e=M(19),s=M(25);o(1),p("ngTemplateOutlet",e),o(1),p("ngTemplateOutlet",s)}}function Ci(t,l){t&1&&$(0)}function hi(t,l){t&1&&$(0)}function xi(t,l){if(t&1&&(n(0,"div",12),v(1,Ci,1,0,"ng-container",13)(2,hi,1,0,"ng-container",13),i()),t&2){c();let e=M(19),s=M(21);o(1),p("ngTemplateOutlet",e),o(1),p("ngTemplateOutlet",s)}}function yi(t,l){t&1&&$(0)}function Si(t,l){t&1&&$(0)}function Ei(t,l){t&1&&$(0)}function bi(t,l){if(t&1&&(n(0,"div",12),v(1,yi,1,0,"ng-container",13)(2,Si,1,0,"ng-container",13)(3,Ei,1,0,"ng-container",13),i()),t&2){c();let e=M(19),s=M(21),r=M(25);o(1),p("ngTemplateOutlet",e),o(1),p("ngTemplateOutlet",s),o(1),p("ngTemplateOutlet",r)}}var se=()=>["active"];function Ri(t,l){if(t&1&&(n(0,"div",14)(1,"button",15),a(2," Property Owners(6) "),i(),n(3,"ul",16)(4,"li")(5,"a",17),a(6,"Pending Requests"),i()(),n(7,"li")(8,"a",18),a(9,"Requests History"),i()()()()),t&2){let e=c();o(1),Le("active",e.router.isActive("/requests/received/owner",!1)),o(4),p("routerLinkActive",F(4,se)),o(3),p("routerLinkActive",F(5,se))}}function wi(t,l){if(t&1&&(n(0,"div",14)(1,"button",15),a(2," Property Managers(6) "),i(),n(3,"ul",16)(4,"li")(5,"a",19),a(6,"Pending Requests"),i()(),n(7,"li")(8,"a",20),a(9,"Requests History"),i()()()()),t&2){let e=c();o(1),Le("active",e.router.isActive("/requests/received/manager",!1)),o(4),p("routerLinkActive",F(4,se)),o(3),p("routerLinkActive",F(5,se))}}function qi(t,l){if(t&1&&(n(0,"div",14)(1,"button",15),a(2," Vendor (10) "),i(),n(3,"ul",16)(4,"li")(5,"a",21),a(6,"Pending Requests"),i()(),n(7,"li")(8,"a",22),a(9,"Requests History"),i()()()()),t&2){let e=c();o(1),Le("active",e.router.isActive("/requests/received/vendor",!1)),o(4),p("routerLinkActive",F(4,se)),o(3),p("routerLinkActive",F(5,se))}}function Ti(t,l){if(t&1&&(n(0,"div",14)(1,"button",15),a(2," Tenants (10) "),i(),n(3,"ul",16)(4,"li")(5,"a",23),a(6,"Pending Requests"),i()(),n(7,"li")(8,"a",24),a(9,"Requests History"),i()()()()),t&2){let e=c();o(1),Le("active",e.router.isActive("/requests/received/tenant",!1)),o(4),p("routerLinkActive",F(4,se)),o(3),p("routerLinkActive",F(5,se))}}var ft=(()=>{let l=class l{constructor(s,r,m){this.gs=s,this.router=r,this.activeRoute=m,this.Enums=S}ngOnInit(){this.activeRoute.url.subscribe(s=>{this.checkRouts()})}checkRouts(){if(this.router.url==="/requests/received")switch(this.gs.identity?.role){case S.ROLE_MANAGERS:case S.ROLE_VENDORS:this.gs.router("/requests/received/owner/pending-requests");break;case S.ROLE_OWNER:case S.ROLE_USER:this.gs.router("/requests/received/manager/pending-requests");break;default:this.gs.router("/requests/received/manager/pending-requests");break}}};l.\u0275fac=function(r){return new(r||l)(x(P),x(be),x(K))},l.\u0275cmp=q({type:l,selectors:[["app-received"]],standalone:!0,features:[T],decls:27,vars:4,consts:[[1,"request-listing-page"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["routerLink","/requests/received"],["aria-current","page",1,"breadcrumb-item","active"],["class","menu mb-4"],["owners",""],["managers",""],["vendor",""],["tenants",""],[1,"menu","mb-4"],[4,"ngTemplateOutlet"],["ngbDropdown","",1,"d-inline-block"],["type","button","ngbDropdownToggle","",1,"btn","btn-secondary"],["ngbDropdownMenu","",1,"dropdown-menu"],["routerLink","/requests/received/owner/pending-requests",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/requests/received/owner/requests-history",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/requests/received/manager/pending-requests",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/requests/received/manager/requests-history",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/requests/received/vendor/pending-requests",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/requests/received/vendor/requests-history",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/requests/received/tenant/pending-requests",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/requests/received/tenant/requests-history",1,"dropdown-item",3,"routerLinkActive"]],template:function(r,m){r&1&&(n(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),a(5,"Home"),i()(),n(6,"li",3)(7,"a",5),a(8,"Requests"),i()(),n(9,"li",3)(10,"a",5),a(11,"Received Requests"),i()(),n(12,"li",6),a(13," Pending Requests "),i()()(),v(14,_i,3,2,"div",7)(15,fi,3,2,"div",7)(16,xi,3,2,"div",7)(17,bi,4,3,"div",7)(18,Ri,10,6,"ng-template",null,8,de)(20,wi,10,6,"ng-template",null,9,de)(22,qi,10,6,"ng-template",null,10,de)(24,Ti,10,6,"ng-template",null,11,de),d(26,"router-outlet"),i()),r&2&&(o(14),u(14,m.gs.is_owner?14:-1),o(1),u(15,m.gs.is_manager?15:-1),o(1),u(16,m.gs.is_tenant?16:-1),o(1),u(17,m.gs.is_vendor?17:-1))},dependencies:[z,Ue,oe,ne,ie,ze,le]});let t=l;return t})();function Fi(t,l){t&1&&(n(0,"div"),a(1),i()),t&2&&(o(1),f("Property is required"))}function ki(t,l){if(t&1&&(n(0,"div",25),v(1,Fi,2,1,"div"),i()),t&2){let e=c(2);o(1),u(1,e.f.catalog_id.errors&&e.f.catalog_id.errors.required?1:-1)}}function Ii(t,l){t&1&&(n(0,"div"),a(1),i()),t&2&&(o(1),f("Vendors is required"))}function Li(t,l){if(t&1&&(n(0,"div",25),v(1,Ii,2,1,"div"),i()),t&2){let e=c(2);o(1),u(1,e.f.receivers.errors&&e.f.receivers.errors.required?1:-1)}}function Oi(t,l){if(t&1){let e=U();n(0,"li")(1,"a",26),C("click",function(){let m=b(e).$implicit,h=c(2);return R(h.form.patchValue({type_of_request:m.value}))}),a(2),i()()}if(t&2){let e=l.$implicit;o(2),f(e.value)}}function Vi(t,l){if(t&1){let e=U();n(0,"form",2),C("ngSubmit",function(){b(e);let r=c();return R(r.onSubmitPreview(r.form))}),n(1,"div",3)(2,"div",4),d(3,"input",5),i(),n(4,"div",4)(5,"div",6)(6,"button",7),C("click",function(){b(e);let r=c();return R(r.selectProperty())}),d(7,"img",8)(8,"img",8),a(9,"Select Property "),i(),n(10,"button",9),C("click",function(){b(e);let r=c();return R(r.selectVendors())}),d(11,"img",8)(12,"img",8),a(13,"Select Vendors "),i()(),v(14,ki,2,1,"div",10)(15,Li,2,1,"div",10),i(),n(16,"div",4)(17,"div",11)(18,"input",12),C("click",function(){b(e);let r=M(21);return R(r.open())}),i(),n(19,"span",13)(20,"div",14,15)(22,"button",16)(23,"span",17),d(24,"img",8),i()(),n(25,"ul",18),O(26,Oi,3,1,"li",null,L),i()()()()(),n(28,"div",4),d(29,"textarea",19),i(),n(30,"div",20)(31,"app-file-drag-drop-uploader",21),C("getFileId",function(r){b(e);let m=c();return R(m.form.patchValue({files:r}))})("getFiles",function(r){b(e);let m=c();return R(m.allFiles=r)}),i()(),n(32,"div",22)(33,"button",23),a(34,"Preview"),i(),n(35,"button",24),a(36,"Cancel"),i()()()()}if(t&2){let e=c();p("formGroup",e.form),o(3),ue("placeholder",e.gs.identity==null?null:e.gs.identity.name),o(4),y("src","",e.gs.imgUrl,"/Select-Property.svg",g),o(1),y("src","",e.gs.imgUrl,"/Vector-13.svg",g),o(3),y("src","",e.gs.imgUrl,"/select-vendor.svg",g),o(1),y("src","",e.gs.imgUrl,"/Vector-13.svg",g),o(2),u(14,e.gs.isValid("catalog_id",e.f)?14:-1),o(1),u(15,e.gs.isValid("receivers",e.f)?15:-1),o(3),p("value",e.form.value==null?null:e.form.value.type_of_request),o(6),y("src","",e.gs.imgUrl,"/dropdown-arrow.svg",g),o(2),V(e.TypeOfIssuesArray),o(5),p("layout","inline")("multiple",!0)("title","")}}function Pi(t,l){if(t&1&&(n(0,"div",33)(1,"div",34)(2,"div",31)(3,"div",35),d(4,"img",36),i(),n(5,"div",32),a(6),i(),n(7,"div",32),a(8),i()()()()),t&2){let e=l.$implicit,s;o(4),p("src",e.avatar,g)("alt",e==null?null:e.name),o(2),f(e==null?null:e.name),o(2),f((s=e==null||e.location==null?null:e.location.location)!==null&&s!==void 0?s:"-")}}function Ai(t,l){if(t&1&&(n(0,"div",42)(1,"div",43),d(2,"div",44),n(3,"div",45),d(4,"img",46),i()()()),t&2){let e=l.$implicit;o(4),p("src",e.path,g)("alt",e.filename)}}function Di(t,l){if(t&1&&(n(0,"div",41),O(1,Ai,5,2,"div",47,L),i()),t&2){let e=c(2);o(1),V(e.allFiles==null?null:e.allFiles.image)}}function Ui(t,l){if(t&1&&(n(0,"div",42)(1,"div",43),d(2,"div",44),n(3,"div",45)(4,"video",48),d(5,"source",49),a(6," Your browser does not support the video tag. "),i()()()()),t&2){let e=l.$implicit;o(4),p("src",e.path,g),o(1),p("src",e.path,g)("type",e.type)}}function Mi(t,l){if(t&1&&(n(0,"div"),O(1,Ui,7,3,"div",47,L),i()),t&2){let e=c(2);o(1),V(e.allFiles==null?null:e.allFiles.video)}}function Ni(t,l){t&1&&d(0,"i",55)}function ji(t,l){t&1&&d(0,"i",56)}function zi(t,l){t&1&&d(0,"i",57)}function Gi(t,l){if(t&1&&(n(0,"div",42)(1,"div",43),d(2,"div",44),n(3,"div",45)(4,"div",50),v(5,Ni,1,0,"i",51)(6,ji,1,0,"i",52)(7,zi,1,0,"i",53),n(8,"span",54),a(9),i()()()()()),t&2){let e=l.$implicit;o(5),u(5,e.mimetype==="application/pdf"?5:-1),o(1),u(6,e.mimetype==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?6:-1),o(1),u(7,e.mimetype!=="application/pdf"&&e.mimetype!=="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?7:-1),o(2),f(e.filename)}}function Bi(t,l){if(t&1&&(n(0,"div"),O(1,Gi,10,4,"div",47,L),i()),t&2){let e=c(2);o(1),V(e.allFiles==null?null:e.allFiles.docs)}}function $i(t,l){if(t&1){let e=U();n(0,"div",3)(1,"div",4)(2,"h5"),a(3,"Requester Name:"),i(),n(4,"div",27),a(5),i()(),n(6,"div",4)(7,"h5"),a(8,"Selected Property"),i(),n(9,"div",28)(10,"div",29)(11,"div",30)(12,"div",31)(13,"div",32),a(14,"Property title"),i(),n(15,"div",32),a(16,"Property Location"),i()()(),n(17,"div",33)(18,"div",34)(19,"div",31)(20,"div",35),d(21,"img",36),i(),n(22,"div",32),a(23),i(),n(24,"div",32),a(25),i()()()()()()(),n(26,"div",4)(27,"h5"),a(28,"Selected Vendors"),i(),n(29,"div",28)(30,"div",29)(31,"div",30)(32,"div",31)(33,"div",32),a(34,"Property title"),i(),n(35,"div",32),a(36,"Property Location"),i()()(),O(37,Pi,9,4,"div",58,L),i()()(),n(39,"div",4)(40,"h5"),a(41,"Type of Request :"),i(),n(42,"div",27),a(43),i()(),n(44,"div",4)(45,"h5"),a(46,"Description"),i(),n(47,"div",37),a(48),i()(),n(49,"h5"),a(50,"Attachments :"),i(),n(51,"div",4),v(52,Di,3,0,"div",38)(53,Mi,3,0,"div")(54,Bi,3,0,"div"),i(),n(55,"div",22)(56,"button",39),C("click",function(){b(e);let r=c();return R(r.onSubmit(r.form))}),I(57,"async"),a(58," Send "),i(),n(59,"button",40),C("click",function(){b(e);let r=c();return R(r.showPreview=!1)}),a(60," Back "),i()()()}if(t&2){let e=c(),s;o(5),w(" ",e.gs.identity==null?null:e.gs.identity.name," "),o(16),p("src",e.catalog!=null&&e.catalog.cover_id?e.catalog==null||e.catalog.cover==null?null:e.catalog.cover.path:"{{gs.imgUrl}}/property-1.png",g)("alt",e.catalog==null?null:e.catalog.title),o(2),f(e.catalog==null?null:e.catalog.title),o(2),f((s=e.catalog==null||e.catalog.location==null?null:e.catalog.location.location)!==null&&s!==void 0?s:"-"),o(12),V(e.userArray),o(6),w(" ",e.form.value==null?null:e.form.value.type," "),o(5),w(" ",e.form.value==null?null:e.form.value.description," "),o(4),u(52,(e.allFiles==null||e.allFiles.image==null?null:e.allFiles.image.length)>0?52:-1),o(1),u(53,(e.allFiles==null||e.allFiles.video==null?null:e.allFiles.video.length)>0?53:-1),o(1),u(54,(e.allFiles==null||e.allFiles.docs==null?null:e.allFiles.docs.length)>0?54:-1),o(2),p("appLadda",A(57,11,e.loading))}}var Ct=(()=>{let l=class l{get f(){return this.form.controls}constructor(s,r,m){this.gs=s,this.modalService=r,this.itemService=m,this.loading=this.gs.store.select(N.RequestLoading),this.submitted=!1,this.showPreview=!1,this.TypeOfIssuesArray=j.TypeOfIssuesArray,this.allFiles={image:[],video:[],docs:[]},this.catalog=null,this.update=null,this.userArray=[]}ngOnInit(){this.formValidation()}get is_relation(){let s="";switch(this.gs.identity?.role){case S.ROLE_OWNER:s=j.USER_CATALOG_ROLE_OWNER;break;case S.ROLE_OWNER:s=j.USER_CATALOG_ROLE_MANAGER;break;case S.ROLE_OWNER:s=j.USER_CATALOG_ROLE_VENDOR;break;default:s=j.USER_CATALOG_ROLE_TENANT;break}return s}formValidation(){this.form=this.gs.formBuilder.group({relation:new _(this.is_relation),type:new _("issue",[G.required]),type_of_request:new _("",[G.required]),order_id:new _(""),catalog_id:new _("",[G.required]),category_id:new _(""),user_id:new _(this.gs.identity?.id),receivers:new _([],[G.required]),assign_by:new _(null),assign_to:new _(null),location_id:new _(""),attachment_id:new _(""),files:new _([]),description:new _("",[G.required]),quantity:new _(null),options:new _(null),start_time:new _(null),end_time:new _(null),due_date:new _(null),comment:new _(""),is_opened:new _("1"),action:new _(null),reason:new _(null),paid_by:new _(null),paid_to:new _(null),action_by:new _(this.gs.identity?.id),status:new _("1")})}selectProperty(){let s=this.modalService.open(Fe,{windowClass:"center billspop",backdrop:"static",keyboard:!1,animation:!0,centered:!0,size:"xl"});s.componentInstance.agreement_status="",s.componentInstance.key=this.gs.is_tenant?E.Catalog.reference:E.Catalog.listing,s.result.then(r=>{r&&this.itemService.catalog("GET",null,{primary_id:r.id}).subscribe(m=>{let h=m.data;this.catalog=h,this.form.patchValue({order_id:this.catalog?.order_id,catalog_id:this.catalog?.id,category_id:this.catalog?.category_id,location_id:this.catalog?.location_id})})},r=>{console.log("reason",r)})}selectVendors(){let s=this.modalService.open(at,{windowClass:"center billspop",backdrop:"static",keyboard:!1,animation:!0,centered:!0,size:"xl"});s.componentInstance.vendor_ids=this.form.value?.receivers??[],s.componentInstance.userArray=this.userArray??[],s.result.then(r=>{r&&(console.log("result",r),r&&this.form.patchValue({receivers:r?.id??[]}))},r=>{console.log("reason",r)})}onSubmitPreview(s){if(this.submitted=!0,!this.form.valid){this.gs.validateAllFormFields(this.form),this.submitted=!1;return}let r=te({},this.form.value);this.showPreview=!0}onSubmit(s){if(!this.form.valid){this.gs.validateAllFormFields(this.form);return}let r=te({},s.value),m=this.update===null?`add-${E.Request.listing}`:`update-${E.Request.listing}`;this.gs.store.dispatch(D.RequestParams({method:"POST",params:{UserRequestForm:r},params2:null,key:m,url:"/requests/issued/pending-requests",sort:null,msg:"You have successfully added request."}))}};l.\u0275fac=function(r){return new(r||l)(x(P),x(J),x(Q))},l.\u0275cmp=q({type:l,selectors:[["app-request-form-vendor"]],standalone:!0,features:[T],decls:2,vars:2,consts:[[3,"formGroup"],["class","formdiv"],[3,"formGroup","ngSubmit"],[1,"formdiv"],[1,"form-group"],["type","text","readonly","",1,"form-control","name",3,"placeholder"],[1,"btndivtop"],["type","button",1,"btn","btn-primary",3,"click"],["alt","",3,"src"],["type","button",1,"btn","btn-primary","ms-4",3,"click"],["class","invalid-feedback d-block"],[1,"input-group"],["type","text","placeholder","Type of Request","readonly","",1,"form-control",3,"value","click"],[1,"input-group-text"],["ngbDropdown",""],["myDrop","ngbDropdown"],["type","button","ngbDropdownToggle","","ngbDropdownAnchor",""],[1,"name"],["ngbDropdownMenu",""],["placeholder","Description","formControlName","description",1,"form-control"],[1,"form-group","filesupload"],[3,"layout","multiple","title","getFileId","getFiles"],[1,"btndiv"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-default"],[1,"invalid-feedback","d-block"],["ngbDropdownItem","",3,"click"],[1,"textfeild"],[1,"listingdiv","selectedproperty"],[1,"listingbox"],[1,"propertytop"],[1,"row","align-items-center"],[1,"col"],[1,"propertybottom"],[1,"propertylist"],[1,"col-sm-2"],["width","120",3,"src","alt"],[1,"textfeild","description"],["class","categories"],["type","button",1,"btn","btn-primary",3,"appLadda","click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"categories"],[1,"categories-item"],[1,"inner"],[1,"example-custom-placeholder"],[1,"w-100"],[1,"images",3,"src","alt"],["class","categories-item"],["controls","",2,"max-height","170px","width","100%",3,"src"],[3,"src","type"],[1,"col","pl-2","d-flex","align-items-center"],["class","far fa-file-pdf"],["class","far fa-file-word"],["class","far fa-file"],[1,"title","pl-2"],[1,"far","fa-file-pdf"],[1,"far","fa-file-word"],[1,"far","fa-file"],["class","propertybottom"]],template:function(r,m){r&1&&v(0,Vi,37,13,"form",0)(1,$i,61,13,"div",1),r&2&&(u(0,m.showPreview?-1:0),o(1),u(1,m.showPreview?1:-1))},dependencies:[Y,ge,H,W,_e,fe,Ce,Re,oe,ne,ye,ie,xe,we,Te,ae,Z]});let t=l;return t})();function Hi(t,l){t&1&&(n(0,"div"),a(1),i()),t&2&&(o(1),f("Property is required"))}function Wi(t,l){if(t&1&&(n(0,"div",24),v(1,Hi,2,1,"div"),i()),t&2){let e=c(2);o(1),u(1,e.f.properties.errors&&e.f.properties.errors.required?1:-1)}}function Yi(t,l){if(t&1){let e=U();n(0,"li")(1,"a",25),C("click",function(){let m=b(e).$implicit,h=c(2);return R(h.form.patchValue({type_of_request:m.value}))}),a(2),i()()}if(t&2){let e=l.$implicit;o(2),f(e.value)}}function Ki(t,l){t&1&&(n(0,"div"),a(1),i()),t&2&&(o(1),f("Type of request is required"))}function Xi(t,l){if(t&1&&(n(0,"div",24),v(1,Ki,2,1,"div"),i()),t&2){let e=c(2);o(1),u(1,e.f.type_of_request.errors&&e.f.type_of_request.errors.required?1:-1)}}function Zi(t,l){if(t&1){let e=U();n(0,"form",2),C("ngSubmit",function(){b(e);let r=c();return R(r.onSubmitPreview(r.form))}),n(1,"div",3)(2,"div",4),d(3,"input",5),i(),n(4,"div",4)(5,"div",6)(6,"button",7),C("click",function(){b(e);let r=c();return R(r.selectProperty())}),d(7,"img",8)(8,"img",8),a(9,"Select Property "),i()(),v(10,Wi,2,1,"div",9),i(),n(11,"div",4)(12,"div",10)(13,"input",11),C("click",function(){b(e);let r=M(16);return R(r.open())}),i(),n(14,"span",12)(15,"div",13,14)(17,"button",15)(18,"span",16),d(19,"img",8),i()(),n(20,"ul",17),O(21,Yi,3,1,"li",null,L),i()()()(),v(23,Xi,2,1,"div",9),i(),n(24,"div",4),d(25,"textarea",18),i(),n(26,"div",19)(27,"app-file-drag-drop-uploader",20),C("getFileId",function(r){b(e);let m=c();return R(m.files=r)})("getFiles",function(r){b(e);let m=c();return R(m.allFiles=r)}),i()(),n(28,"div",21)(29,"button",22),a(30,"Preview"),i(),n(31,"button",23),a(32,"Cancel"),i()()()()}if(t&2){let e=c();p("formGroup",e.form),o(3),ue("placeholder",e.gs.identity==null?null:e.gs.identity.name),o(4),y("src","",e.gs.imgUrl,"/Select-Property.svg",g),o(1),y("src","",e.gs.imgUrl,"/Vector-13.svg",g),o(2),u(10,e.gs.isValid("properties",e.f)?10:-1),o(3),p("value",e.form.value==null?null:e.form.value.type_of_request),o(6),y("src","",e.gs.imgUrl,"/dropdown-arrow.svg",g),o(2),V(e.TypeOfIssuesArray),o(2),u(23,e.gs.isValid("type_of_request",e.f)?23:-1),o(4),p("layout","inline")("multiple",!0)("title","")("accept","*")}}function Ji(t,l){if(t&1&&(n(0,"div",36)(1,"div",30)(2,"div",37),d(3,"img",38),i(),n(4,"div",31),a(5),i(),n(6,"div",31),a(7),i()()()),t&2){let e=l.$implicit,s;o(3),p("src",e!=null&&e.cover_id?e==null||e.cover==null?null:e.cover.path:"{{gs.imgUrl}}/property-1.png",g)("alt",e==null?null:e.title),o(2),f(e==null?null:e.title),o(2),f((s=e==null||e.location==null?null:e.location.location)!==null&&s!==void 0?s:"-")}}function Qi(t,l){if(t&1&&(n(0,"div",40)(1,"div",41),d(2,"div",42),n(3,"div",43),d(4,"img",44),i()()()),t&2){let e=l.$implicit;o(4),p("src",e.path,g)("alt",e.filename)}}function en(t,l){if(t&1&&(n(0,"div",39),O(1,Qi,5,2,"div",45,L),i()),t&2){let e=c(2);o(1),V(e.allFiles==null?null:e.allFiles.image)}}function tn(t,l){if(t&1&&(n(0,"div",40)(1,"div",41),d(2,"div",42),n(3,"div",43)(4,"video",46),d(5,"source",47),a(6," Your browser does not support the video tag. "),i()()()()),t&2){let e=l.$implicit;o(4),p("src",e.path,g),o(1),p("src",e.path,g)("type",e.type)}}function nn(t,l){if(t&1&&(n(0,"div"),O(1,tn,7,3,"div",45,L),i()),t&2){let e=c(2);o(1),V(e.allFiles==null?null:e.allFiles.video)}}function on(t,l){t&1&&d(0,"i",53)}function ln(t,l){t&1&&d(0,"i",54)}function an(t,l){t&1&&d(0,"i",55)}function rn(t,l){if(t&1&&(n(0,"div",40)(1,"div",41),d(2,"div",42),n(3,"div",43)(4,"div",48),v(5,on,1,0,"i",49)(6,ln,1,0,"i",50)(7,an,1,0,"i",51),n(8,"span",52),a(9),i()()()()()),t&2){let e=l.$implicit;o(5),u(5,e.mimetype==="application/pdf"?5:-1),o(1),u(6,e.mimetype==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?6:-1),o(1),u(7,e.mimetype!=="application/pdf"&&e.mimetype!=="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?7:-1),o(2),f(e.filename)}}function sn(t,l){if(t&1&&(n(0,"div"),O(1,rn,10,4,"div",45,L),i()),t&2){let e=c(2);o(1),V(e.allFiles==null?null:e.allFiles.docs)}}function mn(t,l){if(t&1){let e=U();n(0,"div",3)(1,"div",4)(2,"h5"),a(3,"Requester Name:"),i(),n(4,"div",26),a(5),i()(),n(6,"div",4)(7,"h5"),a(8,"Selected Property"),i(),n(9,"div",27)(10,"div",28)(11,"div",29)(12,"div",30)(13,"div",31),a(14,"Property title"),i(),n(15,"div",31),a(16,"Property Location"),i()()(),n(17,"div",32),O(18,Ji,8,4,"div",56,L),i()()()(),n(20,"div",4)(21,"h5"),a(22,"Type of Request :"),i(),n(23,"div",26),a(24),i()(),n(25,"div",4)(26,"h5"),a(27,"Description"),i(),n(28,"div",33),a(29),i()(),n(30,"div",4),v(31,en,3,0,"div",34)(32,nn,3,0,"div")(33,sn,3,0,"div"),i(),n(34,"div",21)(35,"button",35),C("click",function(){b(e);let r=c();return R(r.onSubmit(r.form))}),a(36," Send "),i(),n(37,"button",7),C("click",function(){b(e);let r=c();return R(r.showPreview=!1)}),a(38," Back "),i()()()}if(t&2){let e=c();o(5),w(" ",e.gs.identity==null?null:e.gs.identity.name," "),o(13),V(e.catalogArray),o(6),w(" ",e.form.value==null?null:e.form.value.type_of_request," "),o(5),w(" ",e.form.value==null?null:e.form.value.description," "),o(2),u(31,(e.allFiles==null||e.allFiles.image==null?null:e.allFiles.image.length)>0?31:-1),o(1),u(32,(e.allFiles==null||e.allFiles.video==null?null:e.allFiles.video.length)>0?32:-1),o(1),u(33,(e.allFiles==null||e.allFiles.docs==null?null:e.allFiles.docs.length)>0?33:-1),o(2),p("appLadda",e.submitted)}}var ht=(()=>{let l=class l{get f(){return this.form.controls}constructor(s,r,m,h){this.gs=s,this.modalService=r,this.confirmDialog=m,this.itemService=h,this.submitted=!1,this.showPreview=!1,this.TypeOfIssuesArray=j.TypeOfIssuesArray,this.allFiles={image:[],video:[],docs:[]},this.catalogArray=[],this.files=[],this.update=null}ngOnInit(){this.formValidation()}get is_relation(){let s="";switch(this.gs.identity?.role){case S.ROLE_OWNER:s=j.USER_CATALOG_ROLE_OWNER;break;case S.ROLE_OWNER:s=j.USER_CATALOG_ROLE_MANAGER;break;case S.ROLE_OWNER:s=j.USER_CATALOG_ROLE_VENDOR;break;default:s=j.USER_CATALOG_ROLE_TENANT;break}return s}formValidation(){this.form=this.gs.formBuilder.group({relation:new _(this.is_relation),type:new _("issue",[G.required]),type_of_request:new _("",[G.required]),user_id:new _(this.gs.identity?.id),assign_by:new _(null),assign_to:new _(null),location_id:new _(null),attachment_id:new _(null),description:new _("",[G.required]),quantity:new _(null),options:new _(null),start_time:new _(null),end_time:new _(null),due_date:new _(null),comment:new _(""),is_opened:new _(1),action:new _(null),reason:new _(null),paid_by:new _(null),paid_to:new _(null),action_by:new _(this.gs.identity?.id),status:new _(1),properties:new _([],[G.required])})}selectProperty(){let s=this.modalService.open(Fe,{windowClass:"center billspop",backdrop:"static",keyboard:!1,animation:!0,centered:!0,size:"xl"});s.componentInstance.items=this.catalogArray,s.componentInstance.agreement_status=this.gs.is_tenant?"":"managed",s.componentInstance.key=this.gs.is_tenant?E.Catalog.reference:E.Catalog.listing,s.result.then(r=>{r&&(console.log("result",r),this.catalogArray=r?.items??[],this.form.patchValue({properties:this.catalogArray.map(m=>m.id)}))},r=>{console.log("reason",r)})}onSubmitPreview(s){if(console.log("this.form.value",this.form.value),!this.form.valid){this.gs.validateAllFormFields(this.form),this.submitted=!1;return}this.showPreview=!0}onSubmit(s){if(this.submitted=!0,!this.form.valid){this.submitted=!1,this.gs.validateAllFormFields(this.form);return}let r={},m=te({},s.value),h=[],k=[];this.catalogArray.forEach(ce=>{k.push(ce.id),h.push(ce.agreement?.manager.id)}),delete m.properties,r.form=m,r.files=this.files,r.receivers=h,r.properties=k;let Zn=this.update===null?`add-${E.Request.listing}`:`update-${E.Request.listing}`;this.itemService.request("POST",r).subscribe(ce=>{this.submitted=!1,console.log("response",ce);let Qe=this.modalService.open(rt,{windowClass:"center billspop",backdrop:"static",keyboard:!1,animation:!0,centered:!0,size:"xl"});Qe.componentInstance.items=ce?.data,Qe.result.then(He=>{},He=>{console.log("reason",He)})},ce=>{this.submitted=!1})}};l.\u0275fac=function(r){return new(r||l)(x(P),x(J),x(re),x(Q))},l.\u0275cmp=q({type:l,selectors:[["app-request-form-manager"]],standalone:!0,features:[T],decls:2,vars:2,consts:[[3,"formGroup"],["class","formdiv"],[3,"formGroup","ngSubmit"],[1,"formdiv"],[1,"form-group"],["type","text","readonly","",1,"form-control","name",3,"placeholder"],[1,"btndivtop"],["type","button",1,"btn","btn-primary",3,"click"],["alt","",3,"src"],["class","invalid-feedback d-block"],[1,"input-group"],["type","text","placeholder","Type of Request","readonly","",1,"form-control",3,"value","click"],[1,"input-group-text"],["ngbDropdown",""],["myDrop","ngbDropdown"],["type","button","ngbDropdownToggle","","ngbDropdownAnchor",""],[1,"name"],["ngbDropdownMenu",""],["placeholder","Description","formControlName","description",1,"form-control"],[1,"form-group","filesupload"],[3,"layout","multiple","title","accept","getFileId","getFiles"],[1,"btndiv"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-default"],[1,"invalid-feedback","d-block"],["ngbDropdownItem","",3,"click"],[1,"textfeild"],[1,"listingdiv","selectedproperty"],[1,"listingbox"],[1,"propertytop"],[1,"row","align-items-center"],[1,"col"],[1,"propertybottom"],[1,"textfeild","description"],["class","categories"],["type","button",1,"btn","btn-primary",3,"appLadda","click"],[1,"propertylist"],[1,"col-sm-2"],["width","120",3,"src","alt"],[1,"categories"],[1,"categories-item"],[1,"inner"],[1,"example-custom-placeholder"],[1,"w-100"],[1,"images",3,"src","alt"],["class","categories-item"],["controls","",2,"max-height","170px","width","100%",3,"src"],[3,"src","type"],[1,"col","pl-2","d-flex","align-items-center"],["class","far fa-file-pdf"],["class","far fa-file-word"],["class","far fa-file"],[1,"title","pl-2"],[1,"far","fa-file-pdf"],[1,"far","fa-file-word"],[1,"far","fa-file"],["class","propertylist"]],template:function(r,m){r&1&&v(0,Zi,33,12,"form",0)(1,mn,39,7,"div",1),r&2&&(u(0,m.showPreview?-1:0),o(1),u(1,m.showPreview?1:-1))},dependencies:[Y,ge,H,W,_e,fe,Ce,Re,oe,ne,ye,ie,xe,we,Te,ae]});let t=l;return t})();function dn(t,l){t&1&&(n(0,"div"),a(1),i()),t&2&&(o(1),f("Property is required"))}function cn(t,l){if(t&1&&(n(0,"div",24),v(1,dn,2,1,"div"),i()),t&2){let e=c(2);o(1),u(1,e.f.catalog_id.errors&&e.f.catalog_id.errors.required?1:-1)}}function pn(t,l){if(t&1){let e=U();n(0,"li")(1,"a",25),C("click",function(){let m=b(e).$implicit,h=c(2);return R(h.form.patchValue({type_of_request:m.value}))}),a(2),i()()}if(t&2){let e=l.$implicit;o(2),f(e.value)}}function un(t,l){if(t&1){let e=U();n(0,"form",2),C("ngSubmit",function(){b(e);let r=c();return R(r.onSubmitPreview(r.form))}),n(1,"div",3)(2,"div",4),d(3,"input",5),i(),n(4,"div",4)(5,"div",6)(6,"button",7),C("click",function(){b(e);let r=c();return R(r.selectProperty())}),d(7,"img",8)(8,"img",8),a(9,"Select Property "),i()(),v(10,cn,2,1,"div",9),i(),n(11,"div",4)(12,"div",10)(13,"input",11),C("click",function(){b(e);let r=M(16);return R(r.open())}),i(),n(14,"span",12)(15,"div",13,14)(17,"button",15)(18,"span",16),d(19,"img",8),i()(),n(20,"ul",17),O(21,pn,3,1,"li",null,L),i()()()()(),n(23,"div",4),d(24,"textarea",18),i(),n(25,"div",19)(26,"app-file-drag-drop-uploader",20),C("getFileId",function(r){b(e);let m=c();return R(m.form.patchValue({files:r}))})("getFiles",function(r){b(e);let m=c();return R(m.allFiles=r)}),i()(),n(27,"div",21)(28,"button",22),a(29,"Preview"),i(),n(30,"button",23),a(31,"Cancel"),i()()()()}if(t&2){let e=c();p("formGroup",e.form),o(3),ue("placeholder",e.gs.identity==null?null:e.gs.identity.name),o(4),y("src","",e.gs.imgUrl,"/Select-Property.svg",g),o(1),y("src","",e.gs.imgUrl,"/Vector-13.svg",g),o(2),u(10,e.gs.isValid("catalog_id",e.f)?10:-1),o(3),p("value",e.form.value==null?null:e.form.value.type_of_request),o(6),y("src","",e.gs.imgUrl,"/dropdown-arrow.svg",g),o(2),V(e.TypeOfIssuesArray),o(5),p("layout","inline")("multiple",!0)("title","")("accept","*")}}function _n(t,l){if(t&1&&(n(0,"div",40)(1,"div",41),d(2,"div",42),n(3,"div",43),d(4,"img",44),i()()()),t&2){let e=l.$implicit;o(4),p("src",e.path,g)("alt",e.filename)}}function vn(t,l){if(t&1&&(n(0,"div",39),O(1,_n,5,2,"div",45,L),i()),t&2){let e=c(2);o(1),V(e.allFiles==null?null:e.allFiles.image)}}function gn(t,l){if(t&1&&(n(0,"div",40)(1,"div",41),d(2,"div",42),n(3,"div",43)(4,"video",46),d(5,"source",47),a(6," Your browser does not support the video tag. "),i()()()()),t&2){let e=l.$implicit;o(4),p("src",e.path,g),o(1),p("src",e.path,g)("type",e.type)}}function fn(t,l){if(t&1&&(n(0,"div"),O(1,gn,7,3,"div",45,L),i()),t&2){let e=c(2);o(1),V(e.allFiles==null?null:e.allFiles.video)}}function Cn(t,l){t&1&&d(0,"i",53)}function hn(t,l){t&1&&d(0,"i",54)}function xn(t,l){t&1&&d(0,"i",55)}function yn(t,l){if(t&1&&(n(0,"div",40)(1,"div",41),d(2,"div",42),n(3,"div",43)(4,"div",48),v(5,Cn,1,0,"i",49)(6,hn,1,0,"i",50)(7,xn,1,0,"i",51),n(8,"span",52),a(9),i()()()()()),t&2){let e=l.$implicit;o(5),u(5,e.mimetype==="application/pdf"?5:-1),o(1),u(6,e.mimetype==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?6:-1),o(1),u(7,e.mimetype!=="application/pdf"&&e.mimetype!=="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?7:-1),o(2),f(e.filename)}}function Sn(t,l){if(t&1&&(n(0,"div"),O(1,yn,10,4,"div",45,L),i()),t&2){let e=c(2);o(1),V(e.allFiles==null?null:e.allFiles.docs)}}function En(t,l){if(t&1){let e=U();n(0,"div",3)(1,"div",4)(2,"h5"),a(3,"Requester Name:"),i(),n(4,"div",26),a(5),i()(),n(6,"div",4)(7,"h5"),a(8,"Selected Property"),i(),n(9,"div",27)(10,"div",28)(11,"div",29)(12,"div",30)(13,"div",31),a(14,"Property title"),i(),n(15,"div",31),a(16,"Property Location"),i()()(),n(17,"div",32)(18,"div",33)(19,"div",30)(20,"div",34),d(21,"img",35),i(),n(22,"div",31),a(23),i(),n(24,"div",31),a(25),i()()()()()()(),n(26,"div",4)(27,"h5"),a(28,"Type of Request :"),i(),n(29,"div",26),a(30),i()(),n(31,"div",4)(32,"h5"),a(33,"Description"),i(),n(34,"div",36),a(35),i()(),n(36,"div",4),v(37,vn,3,0,"div",37)(38,fn,3,0,"div")(39,Sn,3,0,"div"),i(),n(40,"div",21)(41,"button",38),C("click",function(){b(e);let r=c();return R(r.onSubmit(r.form))}),I(42,"async"),a(43," Send "),i(),n(44,"button",7),C("click",function(){b(e);let r=c();return R(r.showPreview=!1)}),a(45," Back "),i()()()}if(t&2){let e=c(),s;o(5),w(" ",e.gs.identity==null?null:e.gs.identity.name," "),o(16),p("src",e.catalog!=null&&e.catalog.cover_id?e.catalog==null||e.catalog.cover==null?null:e.catalog.cover.path:"{{gs.imgUrl}}/property-1.png",g)("alt",e.catalog==null?null:e.catalog.title),o(2),f(e.catalog==null?null:e.catalog.title),o(2),f((s=e.catalog==null||e.catalog.location==null?null:e.catalog.location.location)!==null&&s!==void 0?s:"-"),o(5),w(" ",e.form.value==null?null:e.form.value.type," "),o(5),w(" ",e.form.value==null?null:e.form.value.description," "),o(2),u(37,(e.allFiles==null||e.allFiles.image==null?null:e.allFiles.image.length)>0?37:-1),o(1),u(38,(e.allFiles==null||e.allFiles.video==null?null:e.allFiles.video.length)>0?38:-1),o(1),u(39,(e.allFiles==null||e.allFiles.docs==null?null:e.allFiles.docs.length)>0?39:-1),o(2),p("appLadda",A(42,11,e.loading))}}var xt=(()=>{let l=class l{get f(){return this.form.controls}constructor(s,r,m,h){this.gs=s,this.modalService=r,this.itemService=m,this.confirmDialog=h,this.loading=this.gs.store.select(N.RequestLoading),this.submitted=!1,this.showPreview=!1,this.TypeOfIssuesArray=j.TypeOfIssuesArray,this.allFiles={image:[],video:[],docs:[]},this.catalog=null,this.update=null}ngOnInit(){this.formValidation()}get is_relation(){let s="";switch(this.gs.identity?.role){case S.ROLE_OWNER:s=j.USER_CATALOG_ROLE_OWNER;break;case S.ROLE_OWNER:s=j.USER_CATALOG_ROLE_MANAGER;break;case S.ROLE_OWNER:s=j.USER_CATALOG_ROLE_VENDOR;break;default:s=j.USER_CATALOG_ROLE_TENANT;break}return s}formValidation(){this.form=this.gs.formBuilder.group({relation:new _(this.is_relation),type:new _("issue",[G.required]),type_of_request:new _("",[G.required]),order_id:new _(""),catalog_id:new _("",[G.required]),category_id:new _(""),user_id:new _(this.gs.identity?.id),receivers:new _([]),assign_by:new _(null),assign_to:new _(null),location_id:new _(""),attachment_id:new _(""),files:new _(""),description:new _("",[G.required]),quantity:new _(null),options:new _(null),start_time:new _(null),end_time:new _(null),due_date:new _(null),comment:new _(""),is_opened:new _("1"),action:new _(null),reason:new _(null),paid_by:new _(null),paid_to:new _(null),action_by:new _(this.gs.identity?.id),status:new _("1")})}selectProperty(){let s=this.modalService.open(Fe,{windowClass:"center billspop",backdrop:"static",keyboard:!1,animation:!0,centered:!0,size:"xl"});s.componentInstance.catalog_id=this.form.value?.catalog_id,s.result.then(r=>{if(r){if(this.catalog?.owner_id===null){this.confirmDialog.confirm({message:"Owner information not added.",rejectVisible:!1,acceptLabel:"Okay"},()=>console.log("Yes"),()=>console.log("No"));return}this.itemService.catalog("GET",null,{primary_id:r.id}).subscribe(m=>{let h=m.data;this.catalog=h,this.form.patchValue({order_id:this.catalog?.order_id,catalog_id:this.catalog?.id,category_id:this.catalog?.category_id,location_id:this.catalog?.location_id,receivers:[this.catalog?.owner_id]})})}},r=>{console.log("reason",r)})}onSubmitPreview(s){if(this.submitted=!0,!this.form.valid){this.gs.validateAllFormFields(this.form),this.submitted=!1;return}let r=te({},this.form.value);this.showPreview=!0}onSubmit(s){if(!this.form.valid){this.gs.validateAllFormFields(this.form);return}let r=te({},s.value),m=this.update===null?`add-${E.Request.listing}`:`update-${E.Request.listing}`;this.gs.store.dispatch(D.RequestParams({method:"POST",params:{UserRequestForm:r},params2:null,key:m,url:"/requests/issued/pending-requests",sort:null,msg:"You have successfully added request."}))}};l.\u0275fac=function(r){return new(r||l)(x(P),x(J),x(Q),x(re))},l.\u0275cmp=q({type:l,selectors:[["app-request-form-owner"]],standalone:!0,features:[T],decls:2,vars:2,consts:[[3,"formGroup"],["class","formdiv"],[3,"formGroup","ngSubmit"],[1,"formdiv"],[1,"form-group"],["type","text","readonly","",1,"form-control","name",3,"placeholder"],[1,"btndivtop"],["type","button",1,"btn","btn-primary",3,"click"],["alt","",3,"src"],["class","invalid-feedback d-block"],[1,"input-group"],["type","text","placeholder","Type of Request","readonly","",1,"form-control",3,"value","click"],[1,"input-group-text"],["ngbDropdown",""],["myDrop","ngbDropdown"],["type","button","ngbDropdownToggle","","ngbDropdownAnchor",""],[1,"name"],["ngbDropdownMenu",""],["placeholder","Description","formControlName","description",1,"form-control"],[1,"form-group","filesupload"],[3,"layout","multiple","title","accept","getFileId","getFiles"],[1,"btndiv"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-default"],[1,"invalid-feedback","d-block"],["ngbDropdownItem","",3,"click"],[1,"textfeild"],[1,"listingdiv","selectedproperty"],[1,"listingbox"],[1,"propertytop"],[1,"row","align-items-center"],[1,"col"],[1,"propertybottom"],[1,"propertylist"],[1,"col-sm-2"],["width","120",3,"src","alt"],[1,"textfeild","description"],["class","categories"],["type","button",1,"btn","btn-primary",3,"appLadda","click"],[1,"categories"],[1,"categories-item"],[1,"inner"],[1,"example-custom-placeholder"],[1,"w-100"],[1,"images",3,"src","alt"],["class","categories-item"],["controls","",2,"max-height","170px","width","100%",3,"src"],[3,"src","type"],[1,"col","pl-2","d-flex","align-items-center"],["class","far fa-file-pdf"],["class","far fa-file-word"],["class","far fa-file"],[1,"title","pl-2"],[1,"far","fa-file-pdf"],[1,"far","fa-file-word"],[1,"far","fa-file"]],template:function(r,m){r&1&&v(0,un,32,11,"form",0)(1,En,46,13,"div",1),r&2&&(u(0,m.showPreview?-1:0),o(1),u(1,m.showPreview?1:-1))},dependencies:[Y,ge,H,W,_e,fe,Ce,Re,oe,ne,ye,ie,xe,we,Te,ae,Z]});let t=l;return t})();function bn(t,l){t&1&&(n(0,"div")(1,"div",8)(2,"a",9),d(3,"i",10),n(4,"span"),a(5,"|"),i(),a(6,"Send to Property Manager"),i(),n(7,"a",11),d(8,"i",12),n(9,"span"),a(10,"|"),i(),a(11,"Send to Vendors"),i()()())}function Rn(t,l){t&1&&(n(0,"div")(1,"div",8)(2,"a",13),d(3,"i",10),n(4,"span"),a(5,"|"),i(),a(6,"Send to Property Owner"),i(),n(7,"a",11),d(8,"i",12),n(9,"span"),a(10,"|"),i(),a(11,"Send to Vendors"),i()()())}function wn(t,l){t&1&&(n(0,"div")(1,"div",8)(2,"a",9),d(3,"i",10),n(4,"span"),a(5,"|"),i(),a(6,"Send to Property Manager"),i(),n(7,"a",11),d(8,"i",12),n(9,"span"),a(10,"|"),i(),a(11,"Send to Vendors"),i()()())}function qn(t,l){t&1&&d(0,"app-request-form-owner")}function Tn(t,l){t&1&&d(0,"app-request-form-manager")}function Fn(t,l){t&1&&d(0,"app-request-form-vendor")}var $e=(()=>{let l=class l{constructor(s,r){this.gs=s,this.router=r,this.Enums=S}ngOnInit(){}};l.\u0275fac=function(r){return new(r||l)(x(P),x(be))},l.\u0275cmp=q({type:l,selectors:[["app-request-create"]],standalone:!0,features:[T],decls:19,vars:6,consts:[[1,"bill-create","bill-preview","request-create"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"formdiv"],[1,"form-group"],[1,"btn-group"],["routerLink","/requests/request-manager","routerLinkActive","active",1,"btn","btn-outline-primary"],[1,"fas","fa-user-tie"],["routerLink","/requests/request-vendor","routerLinkActive","active",1,"btn","btn-outline-primary"],[1,"fas","fa-house-user"],["routerLink","/requests/request-owner","routerLinkActive","active",1,"btn","btn-outline-primary"]],template:function(r,m){r&1&&(n(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),a(5,"Home"),i()(),n(6,"li",3)(7,"a",4),a(8,"Requests"),i()(),n(9,"li",5),a(10,"Add Request"),i()()(),n(11,"div",6)(12,"div",7),v(13,bn,12,0,"div")(14,Rn,12,0,"div")(15,wn,12,0,"div"),i()(),v(16,qn,1,0,"app-request-form-owner")(17,Tn,1,0,"app-request-form-manager")(18,Fn,1,0,"app-request-form-vendor"),i()),r&2&&(o(13),u(13,m.gs.is_owner?13:-1),o(1),u(14,m.gs.is_manager?14:-1),o(1),u(15,m.gs.is_tenant?15:-1),o(1),u(16,m.router.url==="/requests/request-owner"?16:-1),o(1),u(17,m.router.url==="/requests/request-manager"?17:-1),o(1),u(18,m.router.url==="/requests/request-vendor"?18:-1))},dependencies:[z,ze,xt,ht,Ct]});let t=l;return t})();var yt=(()=>{let l=class l{constructor(s,r){this.gs=s,this.modalService=r}ngOnInit(){}view(){let s=this.modalService.open(Ge,{windowClass:"center",backdrop:"static",keyboard:!1,animation:!0,centered:!0,size:"sm"});s.componentInstance.catalog=this.item.catalog,s.result.then(r=>{r&&this.gs.router(`/requests/issued/view/${this.item.id}`)},r=>{console.log("reason",r)})}};l.\u0275fac=function(r){return new(r||l)(x(P),x(J))},l.\u0275cmp=q({type:l,selectors:[["app-request-listing-item"],["","app-request-listing-item",""]],inputs:{item:"item"},standalone:!0,features:[T],decls:15,vars:11,consts:[[1,"row","align-items-center"],[1,"col"],["type","button",1,"btn",3,"click"],[1,"btndiv"],[3,"click"]],template:function(r,m){r&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),C("click",function(){return m.view()}),a(3),i()(),n(4,"div",1),a(5),i(),n(6,"div",1),a(7),i(),n(8,"div",1),a(9),I(10,"date"),i(),n(11,"div",1)(12,"div",3)(13,"a",4),C("click",function(){return m.view()}),a(14),i()()()()),r&2&&(o(3),f(m.item.id),o(2),f(m.item.receiver.name),o(2),f(m.item.catalog_id),o(2),f(De(10,8,m.item.created_at*1e3,"short")),o(4),pe("btn btn-",m.item.assign_to?"primary":"secondary",""),o(1),w(" ",m.item.assign_to?"Assigned":"Unassigned"," "))},dependencies:[Me]});let t=l;return t})();function kn(t,l){if(t&1&&(n(0,"div",33)(1,"div",34)(2,"a",35),a(3,"Add Requests"),d(4,"i",36),i()()()),t&2){let e=c();o(2),y("routerLink","/requests/",e.gs.requestUrl,"")}}var Ae=()=>({height:"10px",width:"100%"});function In(t,l){t&1&&(n(0,"div",37)(1,"div",30)(2,"div",31),d(3,"ngx-skeleton-loader",38),i(),n(4,"div",31),d(5,"ngx-skeleton-loader",38),i(),n(6,"div",31),d(7,"ngx-skeleton-loader",38),i(),n(8,"div",31),d(9,"ngx-skeleton-loader",38),i(),n(10,"div",31),d(11,"ngx-skeleton-loader",38),i()()()),t&2&&(o(3),p("theme",F(5,Ae)),o(2),p("theme",F(6,Ae)),o(2),p("theme",F(7,Ae)),o(2),p("theme",F(8,Ae)),o(2),p("theme",F(9,Ae)))}function Ln(t,l){if(t&1&&O(0,In,12,10,"div",39,L),t&2){let e=c();V(e.gs.generateFake(3))}}function On(t,l){if(t&1&&d(0,"div",42),t&2){let e=l.$implicit;p("item",e)}}function Vn(t,l){t&1&&(n(0,"div",43),a(1,"Request not found."),i())}function Pn(t,l){if(t&1){let e=U();n(0,"div",44)(1,"app-pagination",45),C("getPage",function(r){b(e);let m=c(2);return R(m.handlePagination(r))}),I(2,"async"),i()()}if(t&2){let e=c(2),s;o(1),p("pagination",(s=A(2,2,e.catalogs))==null?null:s.pagination)("page",e.params.page)}}function An(t,l){if(t&1&&(O(0,On,1,1,"div",46,L),I(2,"async"),v(3,Vn,2,0,"div",40),I(4,"async"),I(5,"async"),v(6,Pn,3,4,"div",41),I(7,"async")),t&2){let e=c(),s,r,m;V((s=A(2,2,e.catalogs))==null?null:s.items),o(3),u(3,((r=A(4,4,e.catalogs))==null?null:r.items)===null||((r=A(5,6,e.catalogs))==null?null:r.items.length)===0?3:-1),o(3),u(6,((m=A(7,8,e.catalogs))==null||m.pagination==null?null:m.pagination.totalCount)>e.params["per-page"]?6:-1)}}var Ze=()=>({standalone:!0}),Je=(()=>{let l=class l{constructor(s,r){this.gs=s,this.activeRoute=r,this.catalogs=this.gs.store.select(N.RequestSelectors[E.Request.listing]),this.loading=this.gs.store.select(N.RequestLoadingKey[`${E.Request.listing}Loading`]),this.params={q:"",sort:"-id",catalog_id:"",id:"",is_assign:"",type:"issue",page:0,size:20},this.q="",this.catalog_id="",this.id=""}ngOnInit(){let s=this.activeRoute.snapshot.routeConfig?.data;this.params=Object.assign({},this.params,{status:s.status}),this.onLoad()}onLoad(){let s=D.RequestParams({method:"GET",params:null,params2:this.params,key:E.Request.listing});this.gs.store.dispatch(s)}search(){this.params=Object.assign({},this.params,{q:this.q,page:1}),this.onLoad()}onEnterRequest(){this.params=Object.assign({},this.params,{id:this.id,page:1}),this.onLoad()}onEnterCatalog(){this.params=Object.assign({},this.params,{catalog_id:this.catalog_id,page:1}),this.onLoad()}handleStatus(s){let{value:r}=s.target;this.params=Object.assign({},this.params,{is_assign:r,page:1}),this.onLoad()}handlePagination(s){this.params=Object.assign({},this.params,{page:s}),this.onLoad()}};l.\u0275fac=function(r){return new(r||l)(x(P),x(K))},l.\u0275cmp=q({type:l,selectors:[["app-request-listing"]],standalone:!0,features:[T],decls:70,vars:14,consts:[[1,"request-listing-page"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"searchtop"],[1,"row"],[1,"col-sm-10"],[1,"searchdiv"],[1,"input-group"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"input-group-text"],["type","button",1,"btn",3,"click"],["alt","Search",3,"src"],["class","col-sm-2"],[1,"rl-filter"],[1,"col-sm-3"],[1,"form-group"],["type","text","name","requestno",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],[1,"select"],["name","status",1,"form-control",3,"change"],["value","","selected",""],["value","1"],["value","0"],["name","property_manager",1,"form-control"],["value","0","selected",""],[1,"listingdiv"],[1,"listingbox"],[1,"propertytop"],[1,"row","align-items-center"],[1,"col"],[1,"propertybottom"],[1,"col-sm-2"],[1,"btndiv"],[1,"btn","btn-primary",3,"routerLink"],[1,"fas","fa-plus"],[1,"propertylist"],["count","1",3,"theme"],["class","propertylist"],["class","notfound"],["class",""],["app-request-listing-item","",1,"propertylist",3,"item"],[1,"notfound"],[1,""],[3,"pagination","page","getPage"],["app-request-listing-item","","class","propertylist",3,"item"]],template:function(r,m){r&1&&(n(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),a(5,"Home"),i()(),n(6,"li",5),a(7,"Requests"),i()()(),n(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"input",11),C("ngModelChange",function(k){return m.q=k}),i(),n(14,"span",12)(15,"button",13),C("click",function(){return m.search()}),d(16,"img",14),i()()()()(),v(17,kn,5,1,"div",15),i()(),n(18,"div",16)(19,"h4"),a(20,"Filter By :"),i(),n(21,"div",7)(22,"div",17)(23,"div",18)(24,"label"),a(25,"Request No"),i(),n(26,"input",19),C("ngModelChange",function(k){return m.id=k})("keyup.enter",function(){return m.onEnterRequest()}),i()()(),n(27,"div",17)(28,"div",18)(29,"label"),a(30,"Property ID"),i(),n(31,"input",19),C("ngModelChange",function(k){return m.catalog_id=k})("keyup.enter",function(){return m.onEnterCatalog()}),i()()(),n(32,"div",17)(33,"div",18)(34,"label"),a(35,"Status"),i(),n(36,"div",20)(37,"select",21),C("change",function(k){return m.handleStatus(k)}),n(38,"option",22),a(39,"- Please Select -"),i(),n(40,"option",23),a(41,"Assigned"),i(),n(42,"option",24),a(43,"Unassigned"),i()()()()(),n(44,"div",17)(45,"div",18)(46,"label"),a(47,"Property Manager"),i(),n(48,"div",20)(49,"select",25)(50,"option",26),a(51,"- Please Select -"),i()()()()()()(),n(52,"div",27)(53,"div",28)(54,"div",29)(55,"div",30)(56,"div",31),a(57,"Request No."),i(),n(58,"div",31),a(59,"Requester"),i(),n(60,"div",31),a(61,"Property ID"),i(),n(62,"div",31),a(63,"Update"),i(),n(64,"div",31),a(65,"Status"),i()()(),n(66,"div",32),v(67,Ln,2,0),I(68,"async"),v(69,An,8,10),i()()()()),r&2&&(o(13),p("ngModel",m.q)("ngModelOptions",F(11,Ze)),o(3),y("src","",m.gs.imgUrl,"/search-meg.svg",g),o(1),u(17,m.gs.is_owner||m.gs.is_manager||m.gs.is_tenant?17:-1),o(9),p("ngModel",m.id)("ngModelOptions",F(12,Ze)),o(5),p("ngModel",m.catalog_id)("ngModelOptions",F(13,Ze)),o(36),u(67,A(68,9,m.loading)?67:69))},dependencies:[z,Y,Ne,je,H,W,he,ve,Ee,Se,yt,qe,Z]});let t=l;return t})();function Dn(t,l){t&1&&(n(0,"nav")(1,"ol",9)(2,"li",10)(3,"a",11),a(4,"Home"),i()(),n(5,"li",10)(6,"a",11),a(7,"Requests"),i()(),n(8,"li",10)(9,"a",11),a(10,"Issued Requests"),i()(),n(11,"li",10)(12,"a",11),a(13,"Requests History"),i()(),n(14,"li",12),a(15," Requests History Details "),i()()())}function Un(t,l){if(t&1&&(n(0,"div",13)(1,"div",14)(2,"div",15)(3,"button",16),d(4,"i",17)(5,"img",18),a(6,"Mark as Completed "),i(),n(7,"button",16),d(8,"img",19)(9,"img",18),a(10,"Managed "),i()(),n(11,"div",20)(12,"a",21),a(13,"Add Requests"),d(14,"i",22),i(),n(15,"button",23),d(16,"i",24)(17,"img",18),a(18,"Delete Request "),i()()()()),t&2){let e=c();o(5),y("src","",e.gs.imgUrl,"/vector-10.svg",g),o(4),y("src","",e.gs.imgUrl,"/vector-10.svg",g),o(3),y("routerLink","/requests/",e.gs.requestUrl,""),o(5),y("src","",e.gs.imgUrl,"/vector-10.svg",g)}}function Mn(t,l){if(t&1&&(n(0,"div",13)(1,"button",25),d(2,"i",17)(3,"img",18),a(4,"Reject "),i(),n(5,"button",16),d(6,"img",19)(7,"img",18),a(8,"Accept "),i()()),t&2){let e=c();o(3),y("src","",e.gs.imgUrl,"/vector-10.svg",g),o(4),y("src","",e.gs.imgUrl,"/vector-10.svg",g)}}function Nn(t,l){if(t&1&&d(0,"app-catalog-request-view-slider",29),t&2){let e=c(2);p("catalog",e.item.catalog)}}function jn(t,l){t&1&&$(0)}function zn(t,l){if(t&1&&(n(0,"div",26)(1,"div",14)(2,"div",27)(3,"div",28),v(4,Nn,1,1,"app-catalog-request-view-slider",29),i(),n(5,"div",30)(6,"div",31)(7,"div",14)(8,"div",15),a(9,"Request No"),i(),n(10,"div",15),a(11),i()()(),n(12,"div",31)(13,"div",14)(14,"div",15),a(15,"Requester"),i(),n(16,"div",15),a(17),i()()(),n(18,"div",31)(19,"div",14)(20,"div",15),a(21,"Type of Request"),i(),n(22,"div",15),a(23),i()()()(),n(24,"div",32)(25,"h4"),a(26,"Description"),i(),n(27,"div",33),d(28,"app-read-more",34),i()(),n(29,"div",35)(30,"h4"),a(31,"Request was sent to"),i(),n(32,"div",6),d(33,"img",18),i(),n(34,"div",36)(35,"h5"),a(36),i(),n(37,"div",37),a(38),i(),n(39,"div",38),a(40),i()(),d(41,"div",39),i(),n(42,"div",40)(43,"div",41),d(44,"img",42),n(45,"div",43)(46,"h5"),a(47,"Status :"),i(),a(48," Assigned To "),n(49,"a",11),a(50,"XYZ"),i()(),d(51,"div",39),i(),n(52,"div",41),d(53,"img",42),n(54,"div",43)(55,"h5"),a(56,"Schedule Date & Time"),i(),a(57," Mar, 03, 2021, 15:00 "),i(),d(58,"div",39),i()()(),n(59,"div",44),v(60,jn,1,0,"ng-container",45),i()()()),t&2){let e=c(),s=M(15),r;o(4),u(4,e.item?4:-1),o(7),f(e.item==null?null:e.item.id),o(6),f(e.item==null||e.item.user==null?null:e.item.user.name),o(6),f(e.item==null?null:e.item.type_of_request),o(5),p("text",e.item==null?null:e.item.description)("maxLength",180),o(5),p("src",e.item==null||e.item.user==null?null:e.item.user.avatar,g),o(3),f(e.item==null||e.item.user==null?null:e.item.user.name),o(2),f(e.gs.userType(e.item==null||e.item.user==null?null:e.item.user.role)),o(2),w(" ",(r=e.item==null||e.item.user==null||e.item.user.location==null?null:e.item.user.location.location)!==null&&r!==void 0?r:"-"," "),o(4),y("src","",e.gs.imgUrl,"/status-red.svg",g),o(9),y("src","",e.gs.imgUrl,"/schedule.svg",g),o(7),p("ngTemplateOutlet",s)}}function Gn(t,l){if(t&1&&d(0,"app-catalog-request-view-slider",29),t&2){let e=c(2);p("catalog",e.item.catalog)}}function Bn(t,l){t&1&&$(0)}function $n(t,l){if(t&1&&(n(0,"div",26)(1,"div",14)(2,"div",46),v(3,Gn,1,1,"app-catalog-request-view-slider",29),i(),n(4,"div",27)(5,"div",30)(6,"div",31)(7,"div",14)(8,"div",15),a(9,"Request No"),i(),n(10,"div",15),a(11),i()()(),n(12,"div",31)(13,"div",14)(14,"div",15),a(15,"Requester"),i(),n(16,"div",15),a(17),i()()(),n(18,"div",31)(19,"div",14)(20,"div",15),a(21,"Type of Request"),i(),n(22,"div",15),a(23),i()()()(),n(24,"div",32)(25,"h4"),a(26,"Description"),i(),n(27,"div",33),d(28,"app-read-more",34),i()(),n(29,"div",35)(30,"h4"),a(31,"Request was recevied from"),i(),n(32,"div",6),d(33,"img",18),i(),n(34,"div",36)(35,"h5"),a(36),i(),n(37,"div",37),a(38),i(),n(39,"div",38),a(40),i()(),d(41,"div",39),i(),n(42,"div",40)(43,"div",41),d(44,"img",42),n(45,"div",43)(46,"h5"),a(47,"Status :"),i(),a(48," Assigned To "),n(49,"a",11),a(50,"XYZ"),i()(),d(51,"div",39),i(),n(52,"div",41),d(53,"img",42),n(54,"div",43)(55,"h5"),a(56,"Schedule Date & Time"),i(),a(57," Mar, 03, 2021, 15:00 "),i(),d(58,"div",39),i()()(),n(59,"div",44),v(60,Bn,1,0,"ng-container",45),i()()()),t&2){let e=c(),s=M(15),r;o(3),u(3,e.item?3:-1),o(8),f(e.item==null?null:e.item.id),o(6),f(e.item==null||e.item.receiver==null?null:e.item.receiver.name),o(6),f(e.item==null?null:e.item.type_of_request),o(5),p("text",e.item==null?null:e.item.description)("maxLength",180),o(5),p("src",e.item==null||e.item.receiver==null?null:e.item.receiver.avatar,g),o(3),f(e.item==null||e.item.receiver==null?null:e.item.receiver.name),o(2),f(e.gs.userType(e.item==null||e.item.receiver==null?null:e.item.receiver.role)),o(2),w(" ",(r=e.item==null||e.item.receiver==null||e.item.receiver.location==null?null:e.item.receiver.location.location)!==null&&r!==void 0?r:"-"," "),o(4),y("src","",e.gs.imgUrl,"/status-red.svg",g),o(9),y("src","",e.gs.imgUrl,"/schedule.svg",g),o(7),p("ngTemplateOutlet",s)}}function Hn(t,l){t&1&&(n(0,"div"),a(1,"Location not added"),i())}function Wn(t,l){if(t&1&&d(0,"app-google-map-view",7),t&2){let e=c();p("location",e.item==null?null:e.item.location)}}function Yn(t,l){if(t&1&&(n(0,"div")(1,"div",48)(2,"div",49)(3,"div",50)(4,"div",51),d(5,"img",52),i(),n(6,"div",53)(7,"div",54)(8,"div",14)(9,"div",55)(10,"h4"),a(11),i(),n(12,"time"),a(13),i()()()()()(),n(14,"div",56)(15,"ul",57)(16,"li",58),a(17,"dfrthyt"),i()()(),n(18,"div",59)(19,"div",60)(20,"div",61),d(21,"textarea",62),i(),n(22,"div",63)(23,"div",64)(24,"div",65)(25,"label",66),d(26,"input",67)(27,"img",18),i()(),n(28,"div",68)(29,"a",69),d(30,"i",70),i(),n(31,"button",71),d(32,"i",72),i()()()()()()()()()),t&2){let e=c(2);o(5),p("src",(e.gs.identity==null?null:e.gs.identity.id)===(e.item==null?null:e.item.user_id)?e.item==null||e.item.contact==null?null:e.item.contact.avatar:e.item==null||e.item.user==null?null:e.item.user.avatar,g),o(6),w(" ",(e.gs.identity==null?null:e.gs.identity.id)===(e.item==null?null:e.item.user_id)?e.item==null||e.item.contact==null?null:e.item.contact.name:e.item==null||e.item.user==null?null:e.item.user.name," "),o(2),f(e.gs.userType((e.gs.identity==null?null:e.gs.identity.id)===(e.item==null?null:e.item.user_id)?e.item==null||e.item.contact==null?null:e.item.contact.role:e.item==null||e.item.user==null?null:e.item.user.role)),o(14),y("src","",e.gs.imgUrl,"/attach.svg",g)}}function Kn(t,l){if(t&1&&d(0,"app-one-to-one-chat",47),t&2){let e=c(2);p("message_id",e.item==null?null:e.item.message_id)}}function Xn(t,l){if(t&1&&v(0,Yn,33,4,"div")(1,Kn,1,1,"app-one-to-one-chat",47),t&2){let e=c();u(0,e.item!=null&&e.item.message_id?-1:0),o(1),u(1,e.item!=null&&e.item.message_id?1:-1)}}var me=(()=>{let l=class l{constructor(s,r,m,h,k){this.gs=s,this.activeRoute=r,this.confirmDialog=m,this.itemService=h,this.router=k,this.itemObservable=this.gs.store.select(N.RequestSelectors[E.Request.view]),this.loading=this.gs.store.select(N.RequestLoadingKey[`${E.Request.view}Loading`]),this.item=null,this.item_id=null,this.accept_loading=!1,this.remove_loading=!1,this.complete_loading=!1,this.Enums=S,this.url=this.router.url.split("/").slice(0,-1).join("/"),this.key="",this.relation="",this.item_id=this.activeRoute.snapshot.params.id}ngOnInit(){let s=this.activeRoute.snapshot.routeConfig?.data;this.key=s.key,this.relation=s.relation,this.onLoad(),this.itemObservable.subscribe(r=>this.item=r)}onLoad(){let s=D.RequestParams({method:"GET",params:null,params2:{primary_id:this.item_id},key:E.Request.view});this.gs.store.dispatch(s)}ngOnDestroy(){this.gs.store.dispatch(D.RequestList({data:null,key:E.Request.view}))}};l.\u0275fac=function(r){return new(r||l)(x(P),x(K),x(re),x(Q),x(be))},l.\u0275cmp=q({type:l,selectors:[["app-request-view"]],standalone:!0,features:[T],decls:16,vars:7,consts:[[1,"bill-view-page","request-view"],["class","btndivtop"],["class","bv-middle"],[1,"pv-box","location"],[1,"pv-title"],[1,"pv-body"],[1,"image"],[3,"location"],["oneToOneChat",""],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"btndivtop"],[1,"row"],[1,"col-sm-6"],["type","button",1,"btn","btn-primary"],[1,"far","fa-check-circle"],["alt","",3,"src"],["alt","","src","/assets/images/user-home.svg"],[1,"col-sm-6","text-right"],[1,"btn","btn-primary","two",3,"routerLink"],[1,"fas","fa-plus"],["type","button","href","/properties/create",1,"btn","btn-danger"],[1,"fas","fa-trash"],["type","button",1,"btn","btn-danger"],[1,"bv-middle"],[1,"col-sm-5"],[1,"sliderdiv"],[3,"catalog"],[1,"prodetails"],[1,"detailbox"],[1,"discription"],[1,"content"],[3,"text","maxLength"],[1,"billsent"],[1,"detail"],[1,"desi"],[1,"address"],[1,"clearfix"],[1,"biilsbottom"],[1,"created"],["alt","Images",1,"create",3,"src"],[1,"right"],[1,"col-sm-7"],[4,"ngTemplateOutlet"],[1,"col-sm-12"],[3,"message_id"],[1,"common-chat",2,"opacity","0.5","pointer-events","none"],[1,"msg-list-box"],[1,"user-info","d-flex","align-items-center"],[1,"image","pl-3"],["alt","avatar",1,"rounded-circle",3,"src"],[1,"caption","col","d-flex","align-items-center"],[1,"left","col"],[1,"col-sm-8"],[1,"right-scroll","css-scroll"],[1,"msg-list"],[1,"text-center"],[1,"comment-form"],[1,"group","clearfix"],[1,"text","float-start"],["placeholder","Write Your Message.....","name","text","maxlength","350",1,"form-control","pe-0"],[1,"mess-type-box","float-end"],[1,"write-mess-right"],[1,"attachment"],["for","file-upload",1,"file","btn","btn-primary","rounded-circle","bg-transparent","border-0"],["type","file","name","attachments","multiple","true","id","file-upload",2,"position","absolute","width","22px","opacity","0","display","none"],[1,"botton"],["mat-stroked-button","","color","primary",1,"imojibtn","bg-transparent"],[1,"far","fa-smile"],["mat-raised-button","","color","primary",1,"sendbtn"],[1,"fas","fa-paper-plane"]],template:function(r,m){r&1&&(n(0,"div",0),v(1,Dn,16,0,"nav")(2,Un,19,4,"div",1)(3,Mn,9,2,"div",1)(4,zn,61,13,"div",2)(5,$n,61,13,"div",2),n(6,"div",3)(7,"div",4)(8,"h1"),a(9,"Location of Property"),i()(),n(10,"div",5)(11,"div",6),v(12,Hn,2,0,"div")(13,Wn,1,1,"app-google-map-view",7),i()()(),v(14,Xn,2,2,"ng-template",null,8,de),i()),r&2&&(o(1),u(1,m.key==="issue"?1:-1),o(1),u(2,m.key==="issue"?2:-1),o(1),u(3,m.key==="received"?3:-1),o(1),u(4,m.key==="issue"?4:-1),o(1),u(5,m.key==="received"?5:-1),o(7),u(12,m.item!=null&&m.item.location?-1:12),o(1),u(13,m.item!=null&&m.item.location?13:-1))},dependencies:[z,lt,it,Ue,nt,ot]});let t=l;return t})();var St=(()=>{let l=class l{constructor(){}ngOnInit(){}};l.\u0275fac=function(r){return new(r||l)},l.\u0275cmp=q({type:l,selectors:[["app-requests"]],standalone:!0,features:[T],decls:1,vars:0,template:function(r,m){r&1&&d(0,"router-outlet")},dependencies:[le]});let t=l;return t})();var ca=[{path:"",component:st,canActivate:[mt],children:[{path:"requests",redirectTo:"requests/issued"},{path:"requests",component:St,children:[{path:"view/:id",component:me,title:"Requests View",data:{key:"issue",relation:"all"}},{path:"request-owner",component:$e,title:"Request Owner",canActivate:[dt],data:{role:[S.ROLE_MANAGERS]}},{path:"request-manager",component:$e,title:"Request Manager"},{path:"request-vendor",component:$e,title:"Request Vendor"},{path:"issued",redirectTo:"issued/pending-requests"},{path:"issued",component:ke,children:[{path:"pending-requests",component:Je,title:"Pending Requests",data:{status:"1"}},{path:"requests-history",component:Je,title:"Requests History",data:{status:"1,2,3,4"}},{path:"view/:id",component:me,title:"Requests View",data:{key:"issue",relation:"all"}}]},{path:"received",component:ft,title:"Received Requests",children:[{path:"owner",component:ke,children:[{path:"pending-requests",component:ee,title:"Pending Requests",data:{relation:"owner",status:"1"}},{path:"requests-history",component:ee,title:"Requests History",data:{relation:"owner",status:"1,2,3,4"}},{path:"view/:id",component:me,title:"Requests View",data:{key:"received",relation:"owner"}}]},{path:"manager",component:ke,children:[{path:"pending-requests",component:ee,title:"Pending Requests",data:{relation:"manager",status:"1"}},{path:"requests-history",component:ee,title:"Requests History",data:{relation:"manager",status:"1,2,3,4"}},{path:"view/:id",component:me,title:"Requests View",data:{key:"received",relation:"manager"}}]},{path:"vendor",component:ke,children:[{path:"pending-requests",component:ee,title:"Pending Requests",data:{relation:"vendor",status:"1"}},{path:"requests-history",component:ee,title:"Requests History",data:{relation:"vendor",status:"1,2,3,4"}},{path:"view/:id",component:me,title:"Requests View",data:{key:"received",relation:"vendor"}}]},{path:"tenant",component:ke,children:[{path:"pending-requests",component:ee,title:"Pending Requests",data:{relation:"tenant",status:"1"}},{path:"requests-history",component:ee,title:"Requests History",data:{relation:"tenant",status:"1,2,3,4"}},{path:"view/:id",component:me,title:"Requests View",data:{key:"received",relation:"tenant"}}]},{path:"view/:id",component:me,title:"Requests View",data:{key:"received",relation:"all"}}]},{path:"contact",component:vt,children:[{path:"pending-requests",component:Ve,title:"Pending Requests",data:{status:"1,5",url:"pending-requests",parent_title:"Request received for proposal"}},{path:"requests-history",component:Ve,title:"Requests History",data:{status:"0,2,3,4,5",url:"requests-history",parent_title:"Request received for proposal"}},{path:"send-pending-requests",component:Ve,title:"Pending Requests",data:{status:"1,5",url:"send-pending-requests",parent_title:"Request sent for proposal"}},{path:"send-requests-history",component:Ve,title:"Requests History",data:{status:"0,2,3,4,5",url:"send-requests-history",parent_title:"Request sent for proposal"}},{path:"view/:id",component:_t,title:"Contact View"}]}]}]}];export{ca as default};
