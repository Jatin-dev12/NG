import{Da as V,Q as E,R as b,Sc as $}from"./chunk-IAI7ZALY.js";import{$b as f,Cc as d,Db as r,Eb as h,Ec as y,Ga as v,Gb as x,Kc as S,Kd as A,Pb as g,Xb as c,Yb as p,Zb as _,_b as u,bc as F,cc as T,gc as o,hc as l,ic as w,ub as C,vc as m,zc as I}from"./chunk-G7L63APJ.js";function B(e,a){if(e&1&&(o(0,"div",10)(1,"span"),d(2),l(),d(3),l()),e&2){let t=m().$implicit,i,n;r(2),y("",(i=t.name)!==null&&i!==void 0?i:"-",":"),r(1),y(" ",(n=t.description)!==null&&n!==void 0?n:"-"," ")}}function D(e,a){if(e&1&&(o(0,"div"),c(1,B,4,2,"div",9),l()),e&2){let t=a.$implicit;r(1),p(1,t.name||t.description?1:-1)}}function j(e,a){if(e&1&&(o(0,"div",8),u(1,D,2,1,"div",null,_),l()),e&2){let t=m().$implicit;r(1),f(t==null?null:t.children)}}function O(e,a){if(e&1&&c(0,j,3,0,"div",7),e&2){let t=a.$implicit,i=m(2);p(0,(t==null||t.children==null?null:t.children.length)>0&&t.name==="More Features"&&i.showMoreFeatures(t==null?null:t.children)?0:-1)}}function R(e,a){if(e&1&&(o(0,"li"),w(1,"img",15),d(2),l()),e&2){let t=m().$implicit,i=m(4);r(1),I("src","",i.gs.imgUrl,"/bullete-1.svg",C),r(1),y("",t.name," ")}}function U(e,a){e&1&&(c(0,R,3,2),F(1,0),T())}function z(e,a){if(e&1&&(o(0,"div",12)(1,"div",13)(2,"div",14)(3,"ul"),u(4,U,3,0,null,null,_),l()()()()),e&2){let t=m().$implicit;r(4),f(t==null?null:t.children)}}function G(e,a){if(e&1&&c(0,z,6,0,"div",11),e&2){let t=a.$implicit;p(0,(t==null||t.children==null?null:t.children.length)>0&&t.name!=="More Features"?0:-1)}}function J(e,a){e&1&&(o(0,"div",16),d(1,"Features not found"),l())}function K(e,a){if(e&1&&(o(0,"div",1)(1,"div",2)(2,"h1"),d(3,"Features"),l()(),o(4,"div",3),u(5,O,1,1,null,null,_),o(7,"div",4)(8,"div",5),u(9,G,1,1,null,null,_),l()(),c(11,J,2,0,"div",6),l()()),e&2){let t=m();r(5),f(t.amenitiesArray),r(4),f(t.amenitiesArray),r(2),p(11,t.isShowEmpty?11:-1)}}var W=(()=>{let a=class a{constructor(i,n){this.gs=i,this.cdr=n,this.tagsTypesArray=this.gs.store.select(V.CatalogSelectors[E.Catalog["tag-types"]]),this.AdditionalEnums=b,this.mainCateTypes=[],this.amenitiesTypesArray=[],this.amenitiesArray=null}ngOnInit(){this.tagsTypesArray.subscribe(i=>{i&&(this.mainCateTypes=i,this._amenities_to_array())})}ngAfterViewInit(){this.cdr.detectChanges()}showMoreFeatures(i){let n=!1;return i.forEach(s=>{(s.name||s.description)&&(n=!0)}),n}_amenities_to_array(){this.amenitiesTypesArray.length===0&&(this.amenitiesTypesArray=this.mainCateTypes.map(n=>({id:n.id,name:n.name,children:[]})));let i=this.item?.userCatalogAmenities??[];i?.length>0&&i.forEach(n=>{this.amenitiesTypesArray.forEach(s=>{if(n.type===s.name){let M=this.amenitiesTypesArray.findIndex(k=>k.name===s.name);this.amenitiesTypesArray[M]?.children?.push(n)}})}),this.amenitiesArray=this.amenitiesTypesArray}get isShowEmpty(){let i=!1;return i=!this.amenitiesTypesArray.find(n=>n.children?.length>0),i}};a.\u0275fac=function(n){return new(n||a)(h($),h(x))},a.\u0275cmp=v({type:a,selectors:[["app-catalog-features-view"],["","app-catalog-features-view",""]],inputs:{item:"item"},standalone:!0,features:[S],decls:1,vars:1,consts:[["class","pv-box features",4,"ngIf"],[1,"pv-box","features"],[1,"pv-title"],[1,"pv-body"],["infiniteScroll","",1,"left-scroll","css-scroll","overflow-x"],[1,"main","d-inline-flex","justify-content-center"],["class","text-center"],["class","content mb-4"],[1,"content","mb-4"],["class","w-100 mb-2"],[1,"w-100","mb-2"],["class","col-sm-4 main mb-2"],[1,"col-sm-4","main","mb-2"],[1,"feeturebox"],["infiniteScroll","",1,"left-scroll","css-scroll"],["alt","Images",3,"src"],[1,"text-center"]],template:function(n,s){n&1&&c(0,K,12,1,"div",0),n&2&&g("ngIf",s.item==null?null:s.item.id)},dependencies:[A]});let e=a;return e})();export{W as a};
