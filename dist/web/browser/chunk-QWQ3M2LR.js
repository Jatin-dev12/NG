import{a as A,b as N}from"./chunk-23YYALBB.js";import{P as p,R as C,Sa as R,Sc as D,Ub as L,ec as k}from"./chunk-IAI7ZALY.js";import{ba as O}from"./chunk-PS3DXR7F.js";import{Cc as s,Db as l,Dc as f,Eb as m,Ga as h,Kc as I,La as v,Ma as x,Pb as g,Xb as _,Yb as d,gc as r,hc as a,ic as w,mc as b,tb as S,tc as T,ub as E,vc as u,zc as y}from"./chunk-G7L63APJ.js";function U(i,o){if(i&1){let e=b();r(0,"a",15),T("click",function(){v(e);let t=u(2);return x(t.contact())}),s(1,"Contact"),a()}}function M(i,o){if(i&1&&(r(0,"a",16),s(1,"View Management Agreement"),a()),i&2){let e=u(2);y("routerLink","/properties/manager-agreement/",e.item==null?null:e.item.id,"")}}function V(i,o){if(i&1&&(r(0,"div",1)(1,"div",2)(2,"h1"),s(3,"Property Owner"),a()(),r(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),w(8,"img",7),a()(),r(9,"div",8)(10,"div",9)(11,"h3"),s(12),a(),r(13,"h4"),s(14),a(),r(15,"div",10),w(16,"div",11),a(),r(17,"div",12),_(18,U,2,0,"a",13)(19,M,2,1,"a",14),a()()()()()()),i&2){let e=u();l(8),g("src",e.owner!=null&&e.owner.avatar?e.owner==null?null:e.owner.avatar:e.gs.imgUrl+"/manager-1.png",E)("alt",e.owner==null?null:e.owner.name),l(4),f(e.owner==null?null:e.owner.name),l(2),f(e.owner!=null&&e.owner.title?e.owner==null?null:e.owner.title:e.owner==null?null:e.owner.role),l(2),g("innerHTML",e.owner==null?null:e.owner.about,S),l(2),d(18,(e.owner==null?null:e.owner.id)!==(e.gs.identity==null?null:e.gs.identity.id)?18:-1),l(1),d(19,e.gs.is_owner||e.gs.is_manager?19:-1)}}var W=(()=>{let o=class o{constructor(n,t,c){this.gs=n,this.modalService=t,this.confirmDialog=c,this.show_action=!0,this.AdditionalEnums=C}get manager(){return this.item?.agreement?.manager}get owner(){return this.item?.owner}get is_manage(){return this.item?.owner_id===this.item?.user_id}contact(){if(this.owner?.message_id===0){if(this.owner?.contact_id===p.USER_PROFILE_CONTACT_STATUS_NONE){this._sendContactRequest();return}if(this.owner?.contact_id===p.USER_PROFILE_CONTACT_STATUS_PENDING){this._confirm("You contact request is pending.");return}if(this.owner?.contact_id===p.USER_PROFILE_CONTACT_STATUS_DECLINED){this._confirm("You contact request is declined.");return}return}if(this.owner?.message_id){this._sendMessage();return}}_contactDialog(){let n=this.modalService.open(A,{windowClass:"center",keyboard:!1,animation:!0});n.componentInstance.item=this.item,n.componentInstance.relation=C.USER_CATALOG_ROLE_OWNER,n.componentInstance.contactUser=this.owner,n.result.then(t=>{console.log("result",t)},t=>{console.log("reason",t)})}_sendMessage(){let n=this.modalService.open(k,{windowClass:"center",keyboard:!1,animation:!0});n.componentInstance.item=this.owner,n.result.then(t=>{console.log("result",t)},t=>{console.log("reason",t)})}_confirm(n){this.confirmDialog.confirm({message:this.gs.translate(n),rejectVisible:!1,acceptLabel:"Okay"},()=>{},()=>{console.log("No clicked")})}_sendContactRequest(){let n=this.modalService.open(N,{windowClass:"center",keyboard:!1,animation:!0});n.componentInstance.catalog=this.item,n.componentInstance.user=this.is_manage?this.manager:this.owner,n.result.then(t=>{console.log("result",t)},t=>{console.log("reason",t)})}};o.\u0275fac=function(t){return new(t||o)(m(D),m(R),m(L))},o.\u0275cmp=h({type:o,selectors:[["app-catalog-owner-box-view"]],inputs:{item:"item",show_action:"show_action"},standalone:!0,features:[I],decls:1,vars:1,consts:[["class","pv-box manager"],[1,"pv-box","manager"],[1,"pv-title"],[1,"pv-body"],[1,"row"],[1,"col-sm-3"],[1,"image"],[3,"src","alt"],[1,"col-sm-9"],[1,"lefttxt"],["infiniteScroll","",1,"left-scroll","css-scroll"],[1,"contenttwo",3,"innerHTML"],[1,"btndiv"],["class","btn btn-primary"],["class","btn btn-secondary",3,"routerLink"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"routerLink"]],template:function(t,c){t&1&&_(0,V,20,7,"div",0),t&2&&d(0,c.owner!=null&&c.owner.id?0:-1)},dependencies:[O]});let i=o;return i})();export{W as a};
