import{a as we,b as Re,c as ke,d as De}from"./chunk-2P5HXVXT.js";import{a as st}from"./chunk-57NOG5XR.js";import{c as dt}from"./chunk-P6JLYCKV.js";import"./chunk-6WPNMGAC.js";import{$a as Ve,$b as Ee,A as Ne,B as ue,Da as j,Dc as et,E as ve,Fc as mt,H as ge,Ma as _e,N as Pe,Na as ee,Nc as oe,O as K,Oa as fe,P as O,Pa as te,Q as I,Qa as ie,Qb as Ce,R as B,Ra as rt,Rb as xe,Sa as J,Sb as Se,Sc as M,Tc as ae,Ub as re,Vb as Ge,Zb as be,ab as Ue,jc as ot,kc as at,lc as lt,na as G,q as H,s as S,u as W,v as pe,z as c}from"./chunk-IAI7ZALY.js";import{O as ne,R as he,aa as ye,ba as Y,ca as je}from"./chunk-PS3DXR7F.js";import"./chunk-JKO3ADSL.js";import{$b as U,Bc as T,Cc as n,Db as o,Dc as C,Eb as h,Ec as N,Ga as F,Id as se,Kc as L,La as R,Lc as D,Ma as k,Pb as p,Pd as nt,Qd as Ae,Rb as Be,Rc as E,Sc as w,Tc as Ze,Ud as Z,Xb as x,Yb as y,Yd as ce,Zb as P,_b as V,_c as Oe,a as Q,g as Xe,gc as t,hc as e,ic as s,lc as z,mc as A,tc as g,ub as f,vc as u,zc as _}from"./chunk-G7L63APJ.js";var Ye=Xe(et());function ht(r,m){if(r&1&&(t(0,"div"),s(1,"img",22)(2,"img",22),n(3,"Select Property "),e()),r&2){let d=u(2);o(1),_("src","",d.gs.imgUrl,"/Select-Property.svg",f),o(1),_("src","",d.gs.imgUrl,"/Vector-13.svg",f)}}function yt(r,m){if(r&1&&(t(0,"div",43)(1,"div"),s(2,"img",44),e(),t(3,"div",45)(4,"p"),n(5,"Selected Property"),e(),t(6,"p",46),n(7),e()()()),r&2){let d=u(2),l;o(2),p("src",d.catalog.cover==null?null:d.catalog.cover.path,f)("alt",d.catalog.title),o(5),N(" ",(l=d.catalog.location==null?null:d.catalog.location.location)!==null&&l!==void 0?l:d.catalog.title," ")}}function Ct(r,m){r&1&&(t(0,"div"),n(1),e()),r&2&&(o(1),C("Property is required"))}function xt(r,m){if(r&1&&(t(0,"div",47),x(1,Ct,2,1,"div"),e()),r&2){let d=u(2);o(1),y(1,d.f.catalog_id.errors&&d.f.catalog_id.errors.required?1:-1)}}function St(r,m){if(r&1){let d=A();t(0,"li")(1,"a",48),g("click",function(){let i=R(d).$implicit,v=u(2);return k(v.form.patchValue({type_of_request:i.value}))}),n(2),e()()}if(r&2){let d=m.$implicit;o(2),C(d.value)}}function bt(r,m){if(r&1){let d=A();t(0,"li")(1,"a",48),g("click",function(){let i=R(d).$implicit,v=u(2);return k(v.form.patchValue({currency_code:i.key}))}),n(2),e()()}if(r&2){let d=m.$implicit;o(2),C(d.key)}}function Et(r,m){if(r&1){let d=A();t(0,"form",2),g("ngSubmit",function(){R(d);let a=u();return k(a.onSubmit(a.form))}),t(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),g("click",function(){R(d);let a=u();return k(a.SelectProperty())}),x(5,ht,4,2,"div")(6,yt,8,3,"div",7),e()(),x(7,xt,2,1,"div",8),e(),t(8,"div",4),s(9,"input",9),e(),t(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13),n(14,"Property Owner"),e(),t(15,"div",14),n(16),e()()(),t(17,"div",11)(18,"div",12)(19,"div",13),n(20,"Tenant"),e(),t(21,"div",14),n(22),e()()(),t(23,"div",11)(24,"div",12)(25,"div",13),n(26,"Permitted Occupier"),e(),t(27,"div",14),n(28),e()()(),t(29,"div",11)(30,"div",12)(31,"div",13),n(32,"Rent Amount"),e(),t(33,"div",14),n(34),E(35,"currency"),e()()(),t(36,"div",11)(37,"div",12)(38,"div",13),n(39,"Payable"),e(),t(40,"div",14),n(41),E(42,"currency"),e()()(),t(43,"div",11)(44,"div",12)(45,"div",13),n(46,"Deposit"),e(),t(47,"div",14),n(48),E(49,"currency"),e()()(),t(50,"div",11)(51,"div",12)(52,"div",13),n(53,"Start Date"),e(),t(54,"div",14),n(55),E(56,"date"),e()()(),t(57,"div",11)(58,"div",12)(59,"div",13),n(60,"End Date"),e(),t(61,"div",14),n(62),E(63,"date"),e()()(),t(64,"div",11)(65,"div",12)(66,"div",13),n(67,"Terms"),e(),t(68,"div",14),n(69),e()()()(),t(70,"div",4)(71,"h5"),n(72,"Type of Bills"),e(),t(73,"div",15)(74,"input",16),g("click",function(){R(d);let a=T(77);return k(a.open())}),e(),t(75,"span",17)(76,"div",18,19)(78,"button",20)(79,"span",21),s(80,"img",22),e()(),t(81,"ul",23),V(82,St,3,1,"li",null,P),e()()()()(),t(84,"div",12)(85,"div",24)(86,"div",4)(87,"label"),n(88,"Bill Start Date"),e(),t(89,"div",15),s(90,"input",25)(91,"mat-datepicker-toggle",26)(92,"mat-datepicker",null,27),e()()(),t(94,"div",24)(95,"div",4)(96,"label"),n(97,"Bill End Date"),e(),t(98,"div",15),s(99,"input",28)(100,"mat-datepicker-toggle",26)(101,"mat-datepicker",null,29),e()()(),t(103,"div",24)(104,"div",4)(105,"label"),n(106,"Due Date"),e(),t(107,"div",15),s(108,"input",30)(109,"mat-datepicker-toggle",26)(110,"mat-datepicker",null,31),e()()()(),t(112,"div",4)(113,"label"),n(114,"Currency"),e(),t(115,"div",15)(116,"input",32),g("click",function(){R(d);let a=T(119);return k(a.open())}),e(),t(117,"span",17)(118,"div",18,33)(120,"button",20)(121,"span",21),s(122,"img",22),e()(),t(123,"ul",23),V(124,bt,3,1,"li",null,P),e()()()()(),t(126,"div",10)(127,"div",11)(128,"div",12)(129,"div",13),n(130,"Gross amount"),e(),t(131,"div",14),s(132,"a-inputNumber",34),e()()(),t(133,"div",11)(134,"div",12)(135,"div",13),n(136,"Tax"),e(),t(137,"div",14),s(138,"a-inputNumber",35),e()()(),t(139,"div",11)(140,"div",12)(141,"div",13),n(142,"Total amount due"),e(),t(143,"div",14),s(144,"a-inputNumber",36),e()()()(),t(145,"div",4),s(146,"textarea",37),e(),t(147,"div",38)(148,"app-file-drag-drop-uploader",39),g("getFileId",function(a){R(d);let i=u();return k(i.form.patchValue({files:a}))})("getFiles",function(a){R(d);let i=u();return k(i.allFiles=a)}),e()(),t(149,"div",40)(150,"button",41),n(151,"Submit"),e(),t(152,"button",42),n(153,"Cancel"),e()()()()}if(r&2){let d=T(93),l=T(102),a=T(111),i=u(),v,b,q;p("formGroup",i.form),o(5),y(5,i.catalog?-1:5),o(1),y(6,i.catalog?6:-1),o(1),y(7,i.gs.isValid("catalog_id",i.f)?7:-1),o(9),C(i.catalog==null||i.catalog.owner==null?null:i.catalog.owner.name),o(6),C(i.manager==null?null:i.manager.name),o(6),N(" ",i.managerRefrence==null?null:i.managerRefrence.permitted_occupier," "),o(6),C(w(35,36,i.managerRefrence==null?null:i.managerRefrence.amount)),o(7),C(w(42,38,i.managerRefrence==null?null:i.managerRefrence.amount)),o(7),N(" ",w(49,40,i.managerRefrence==null?null:i.managerRefrence.deposit_amount)," "),o(7),N(" ",w(56,42,(i.managerRefrence==null?null:i.managerRefrence.start_time)&&(i.managerRefrence==null?null:i.managerRefrence.start_time))," "),o(7),N(" ",w(63,44,(i.managerRefrence==null?null:i.managerRefrence.end_time)&&(i.managerRefrence==null?null:i.managerRefrence.end_time))," "),o(7),C(i.managerRefrence==null?null:i.managerRefrence.terms),o(5),p("value",i.form.value==null?null:i.form.value.type_of_request),o(6),_("src","",i.gs.imgUrl,"/dropdown-arrow.svg",f),o(2),U(i.typeOfIssuesArray),o(8),p("matDatepicker",d)("min",i.minDate)("ngClass",i.gs.addCls("start_time",i.f)),o(1),p("for",d),o(8),p("matDatepicker",l)("min",i.minDate)("ngClass",i.gs.addCls("end_time",i.f)),o(1),p("for",l),o(8),p("matDatepicker",a)("min",i.minDate)("ngClass",i.gs.addCls("due_date",i.f)),o(1),p("for",a),o(7),p("value",i.form.value==null?null:i.form.value.currency_code),o(6),_("src","",i.gs.imgUrl,"/dropdown-arrow.svg",f),o(2),U(i.currenciesArray),o(8),p("currency",(v=i.form.value==null?null:i.form.value.currency_code)!==null&&v!==void 0?v:"USD"),o(6),p("currency",(b=i.form.value==null?null:i.form.value.currency_code)!==null&&b!==void 0?b:"USD"),o(6),p("currency",(q=i.form.value==null?null:i.form.value.currency_code)!==null&&q!==void 0?q:"USD"),o(4),p("layout","inline")("multiple",!0)("title","")("accept","*")}}function wt(r,m){r&1&&(t(0,"div",3),n(1,"Priview"),e())}var pt=(()=>{let m=class m{get f(){return this.form.controls}constructor(l,a,i,v){this.gs=l,this.modalService=a,this.confirmDialog=i,this.itemService=v,this.loading=this.gs.store.select(j.RequestLoading),this.submitted=!1,this.showPreview=!1,this.typeOfIssuesArray=B.TypeOfIssuesArray,this.allFiles={image:[],video:[],docs:[]},this.catalog=null,this.update=null,this.currenciesArray=B.CurrenciesArray,this.minDate=new Date}ngOnInit(){this.formValidation()}get managerRefrence(){return this.catalog?.agreement?.userCatalogOrdersReferences.find(l=>l.relation===B.USER_CATALOG_ROLE_OWNER)??null}get manager(){return this.catalog?.agreement?.manager??null}get is_relation(){let l="";switch(this.gs.identity?.role){case O.ROLE_OWNER:l=B.USER_CATALOG_ROLE_OWNER;break;case O.ROLE_OWNER:l=B.USER_CATALOG_ROLE_MANAGER;break;case O.ROLE_OWNER:l=B.USER_CATALOG_ROLE_VENDOR;break;default:l=B.USER_CATALOG_ROLE_TENANT;break}return l}formValidation(){this.form=this.gs.formBuilder.group({relation:new c(this.is_relation),type:new c("bill",[S.required]),type_of_request:new c("",[S.required]),parent_id:new c(""),order_id:new c(""),catalog_id:new c("",[S.required]),category_id:new c(""),user_id:new c(this.gs.identity?.id),receivers:new c([]),currency_code:new c(null,[S.required]),assign_by:new c(null),assign_to:new c(null),location_id:new c(""),files:new c(""),description:new c("",[S.required]),quantity:new c(null),options:new c(null),start_time:new c(null,[S.required]),end_time:new c(null,[S.required]),due_date:new c(null,[S.required]),comment:new c(""),amount:new c(null,[S.required]),tax_rates:new c(null,[S.required]),total_amount:new c(null,[S.required]),is_opened:new c("1"),action:new c(null),reason:new c(null),paid_by:new c(null),paid_to:new c(null),action_by:new c(this.gs.identity?.id),status:new c("1")})}SelectProperty(){let l=this.modalService.open(oe,{windowClass:"center",backdrop:"static",keyboard:!1,animation:!0,centered:!0,size:"sm"});l.componentInstance.catalog_id=this.form.value?.catalog_id,l.componentInstance.agreement_status=this.gs.is_tenant?"":"managed",l.componentInstance.key=this.gs.is_tenant?I.Catalog.reference:I.Catalog.listing,l.result.then(a=>{if(a){if(this.catalog=a.item,this.gs.is_owner&&this.catalog?.user_id===this.gs.identity?.id){this.confirmDialog.confirm({message:"This Property manage by you",rejectVisible:!1,acceptLabel:"Okay"},()=>console.log("Yes"),()=>console.log("No"));return}this.form.patchValue({order_id:this.catalog?.order_id,catalog_id:this.catalog?.id,category_id:this.catalog?.category_id,location_id:this.catalog?.location_id,receivers:[this.catalog?.agreement?.manager.id]})}},a=>{console.log("reason",a)})}onSubmitPreview(l){if(this.submitted=!0,!this.form.valid){this.gs.validateAllFormFields(this.form),this.submitted=!1;return}let a=Q({},this.form.value);this.showPreview=!0}onSubmit(l){if(console.log("form",l.value),!this.form.valid){this.gs.validateAllFormFields(this.form),this.submitted=!1;return}let a=this.form.value,i=Q({},l.value),v=(0,Ye.default)(a.start_time).format("YYYY-MM-DD hh:mm:ss"),b=(0,Ye.default)(a.end_time).format("YYYY-MM-DD hh:mm:ss"),q=(0,Ye.default)(a.due_date).format("YYYY-MM-DD hh:mm:ss");i.start_time=v,i.end_time=b,i.due_date=q;let Le=this.update===null?`add-${I.Request.listing}`:`update-${I.Request.listing}`;this.gs.store.dispatch(G.RequestParams({method:"POST",params:{UserRequestForm:i},params2:null,key:Le,url:"/bills/issued/pending-requests",sort:null,msg:"You have successfully added bill."}))}};m.\u0275fac=function(a){return new(a||m)(h(M),h(J),h(re),h(ae))},m.\u0275cmp=F({type:m,selectors:[["app-bill-form-manager"]],standalone:!0,features:[L],decls:2,vars:2,consts:[[3,"formGroup"],["class","formdiv"],[3,"formGroup","ngSubmit"],[1,"formdiv"],[1,"form-group"],[1,"btndivtop"],["type","button",1,"btn","btn-primary",3,"click"],["class","d-flex"],["class","invalid-feedback d-block"],["type","text","value","Tenancy Information","readonly","",1,"form-control"],[1,"prodetails"],[1,"detailbox"],[1,"row"],[1,"col-sm-4"],[1,"col-sm-8"],["controlErrorContainer","",1,"input-group"],["type","text","placeholder","Type of Request","readonly","","formControlName","type_of_request",1,"form-control",3,"value","click"],[1,"input-group-text"],["ngbDropdown",""],["myDrop","ngbDropdown"],["type","button","ngbDropdownToggle","","ngbDropdownAnchor",""],[1,"name"],["alt","",3,"src"],["ngbDropdownMenu",""],[1,"col"],["placeholder","Choose a start date","formControlName","start_time",1,"form-control",3,"matDatepicker","min","ngClass"],["matSuffix","",3,"for"],["start_time",""],["placeholder","Choose a start date","formControlName","end_time",1,"form-control",3,"matDatepicker","min","ngClass"],["end_time",""],["placeholder","Choose a start date","formControlName","due_date",1,"form-control",3,"matDatepicker","min","ngClass"],["due_date",""],["type","text","placeholder","--Please Select--","readonly","","formControlName","currency_code",1,"form-control",3,"value","click"],["myDrop2","ngbDropdown"],["mode","currency","locale","en-SA","formControlName","amount","placeholder","- Please Enter -","inputStyleClass","w-50 bg-white",3,"currency"],["mode","currency","locale","en-SA","formControlName","tax_rates","placeholder","- Please Enter -","inputStyleClass","w-50 bg-white",3,"currency"],["mode","currency","locale","en-SA","formControlName","total_amount","placeholder","- Please Enter -","inputStyleClass","w-50 bg-white",3,"currency"],["placeholder","Description","name","Description","formControlName","description",1,"form-control"],[1,"form-group","filesupload"],[3,"layout","multiple","title","accept","getFileId","getFiles"],[1,"btndiv"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-default"],[1,"d-flex"],[2,"width","50px",3,"src","alt"],[2,"line-height","14px","padding-top","10px"],[1,"mb-0"],[1,"invalid-feedback","d-block"],["ngbDropdownItem","",3,"click"]],template:function(a,i){a&1&&x(0,Et,154,46,"form",0)(1,wt,2,0,"div",1),a&2&&(y(0,i.showPreview?-1:0),o(1),y(1,i.showPreview?1:-1))},dependencies:[K,ue,H,W,pe,ve,ge,xe,Ce,Se,ie,te,fe,ee,_e,De,we,Re,ke,se,be,Ee,ce,Z]});let r=m;return r})();var $e=Xe(et());function Rt(r,m){if(r&1&&(t(0,"div"),s(1,"img",9)(2,"img",9),n(3,"Select Property "),e()),r&2){let d=u(2);o(1),_("src","",d.gs.imgUrl,"/Select-Property.svg",f),o(1),_("src","",d.gs.imgUrl,"/Vector-13.svg",f)}}function kt(r,m){if(r&1&&(t(0,"div",44)(1,"div"),s(2,"img",45),e(),t(3,"div",46)(4,"p"),n(5,"Selected Property"),e(),t(6,"p",47),n(7),e()()()),r&2){let d=u(2),l;o(2),p("src",d.catalog.cover==null?null:d.catalog.cover.path,f)("alt",d.catalog.title),o(5),N(" ",(l=d.catalog.location==null?null:d.catalog.location.location)!==null&&l!==void 0?l:d.catalog.title," ")}}function Dt(r,m){r&1&&(t(0,"div"),n(1),e()),r&2&&(o(1),C("Property is required"))}function Tt(r,m){if(r&1&&(t(0,"div",48),x(1,Dt,2,1,"div"),e()),r&2){let d=u(2);o(1),y(1,d.f.catalog_id.errors&&d.f.catalog_id.errors.required?1:-1)}}function It(r,m){if(r&1){let d=A();t(0,"li")(1,"a",49),g("click",function(){let i=R(d).$implicit,v=u(2);return k(v.form.patchValue({type_of_request:i.value}))}),n(2),e()()}if(r&2){let d=m.$implicit;o(2),C(d.value)}}function Ft(r,m){if(r&1){let d=A();t(0,"li")(1,"a",49),g("click",function(){let i=R(d).$implicit,v=u(2);return k(v.form.patchValue({currency_code:i.key}))}),n(2),e()()}if(r&2){let d=m.$implicit;o(2),C(d.key)}}function Lt(r,m){if(r&1){let d=A();t(0,"form",2),g("ngSubmit",function(){R(d);let a=u();return k(a.onSubmit(a.form))}),t(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),g("click",function(){R(d);let a=u();return k(a.SelectProperty())}),x(5,Rt,4,2,"div")(6,kt,8,3,"div",7),e(),t(7,"button",8),s(8,"img",9)(9,"img",9),n(10,"Expenses Report "),e()(),x(11,Tt,2,1,"div",10),e(),t(12,"div",4),s(13,"input",11),e(),t(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15),n(18,"Property Owner"),e(),t(19,"div",16),n(20),e()()(),t(21,"div",13)(22,"div",14)(23,"div",15),n(24,"Manager"),e(),t(25,"div",16),n(26),e()()(),t(27,"div",13)(28,"div",14)(29,"div",15),n(30,"Permitted Occupier"),e(),t(31,"div",16),n(32),e()()(),t(33,"div",13)(34,"div",14)(35,"div",15),n(36,"Rent Amount"),e(),t(37,"div",16),n(38),E(39,"currency"),e()()(),t(40,"div",13)(41,"div",14)(42,"div",15),n(43,"Payable"),e(),t(44,"div",16),n(45),E(46,"currency"),e()()(),t(47,"div",13)(48,"div",14)(49,"div",15),n(50,"Deposit"),e(),t(51,"div",16),n(52),E(53,"currency"),e()()(),t(54,"div",13)(55,"div",14)(56,"div",15),n(57,"Start Date"),e(),t(58,"div",16),n(59),E(60,"date"),e()()(),t(61,"div",13)(62,"div",14)(63,"div",15),n(64,"End Date"),e(),t(65,"div",16),n(66),E(67,"date"),e()()(),t(68,"div",13)(69,"div",14)(70,"div",15),n(71,"Terms"),e(),t(72,"div",16),n(73),e()()()(),t(74,"div",4)(75,"h5"),n(76,"Type of Bills"),e(),t(77,"div",17)(78,"input",18),g("click",function(){R(d);let a=T(81);return k(a.open())}),e(),t(79,"span",19)(80,"div",20,21)(82,"button",22)(83,"span",23),s(84,"img",9),e()(),t(85,"ul",24),V(86,It,3,1,"li",null,P),e()()()()(),t(88,"div",14)(89,"div",25)(90,"div",4)(91,"label"),n(92,"Bill Start Date"),e(),t(93,"div",17),s(94,"input",26)(95,"mat-datepicker-toggle",27)(96,"mat-datepicker",null,28),e()()(),t(98,"div",25)(99,"div",4)(100,"label"),n(101,"Bill End Date"),e(),t(102,"div",17),s(103,"input",29)(104,"mat-datepicker-toggle",27)(105,"mat-datepicker",null,30),e()()(),t(107,"div",25)(108,"div",4)(109,"label"),n(110,"Due Date"),e(),t(111,"div",17),s(112,"input",31)(113,"mat-datepicker-toggle",27)(114,"mat-datepicker",null,32),e()()()(),t(116,"div",4)(117,"label"),n(118,"Currency"),e(),t(119,"div",17)(120,"input",33),g("click",function(){R(d);let a=T(123);return k(a.open())}),e(),t(121,"span",19)(122,"div",20,34)(124,"button",22)(125,"span",23),s(126,"img",9),e()(),t(127,"ul",24),V(128,Ft,3,1,"li",null,P),e()()()()(),t(130,"div",12)(131,"div",13)(132,"div",14)(133,"div",15),n(134,"Gross amount"),e(),t(135,"div",16),s(136,"a-inputNumber",35),e()()(),t(137,"div",13)(138,"div",14)(139,"div",15),n(140,"Tax"),e(),t(141,"div",16),s(142,"a-inputNumber",36),e()()(),t(143,"div",13)(144,"div",14)(145,"div",15),n(146,"Total amount due"),e(),t(147,"div",16),s(148,"a-inputNumber",37),e()()()(),t(149,"div",4),s(150,"textarea",38),e(),t(151,"div",39)(152,"app-file-drag-drop-uploader",40),g("getFileId",function(a){R(d);let i=u();return k(i.form.patchValue({files:a}))})("getFiles",function(a){R(d);let i=u();return k(i.allFiles=a)}),e()(),t(153,"div",41)(154,"button",42),n(155,"Submit"),e(),t(156,"button",43),n(157,"Cancel"),e()()()()}if(r&2){let d=T(97),l=T(106),a=T(115),i=u(),v,b,q;p("formGroup",i.form),o(5),y(5,i.catalog?-1:5),o(1),y(6,i.catalog?6:-1),o(2),_("src","",i.gs.imgUrl,"/Select-Property.svg",f),o(1),_("src","",i.gs.imgUrl,"/Vector-13.svg",f),o(2),y(11,i.gs.isValid("catalog_id",i.f)?11:-1),o(9),C(i.catalog==null||i.catalog.owner==null?null:i.catalog.owner.name),o(6),C(i.owner==null?null:i.owner.name),o(6),C(i.ownerRefrence==null?null:i.ownerRefrence.permitted_occupier),o(6),C(w(39,38,i.ownerRefrence==null?null:i.ownerRefrence.amount)),o(7),C(w(46,40,i.ownerRefrence==null?null:i.ownerRefrence.amount)),o(7),N(" ",w(53,42,i.ownerRefrence==null?null:i.ownerRefrence.deposit_amount)," "),o(7),N(" ",w(60,44,(i.ownerRefrence==null?null:i.ownerRefrence.start_time)&&(i.ownerRefrence==null?null:i.ownerRefrence.start_time))," "),o(7),N(" ",w(67,46,(i.ownerRefrence==null?null:i.ownerRefrence.end_time)&&(i.ownerRefrence==null?null:i.ownerRefrence.end_time))," "),o(7),C(i.ownerRefrence==null?null:i.ownerRefrence.terms),o(5),p("value",i.form.value==null?null:i.form.value.type_of_request),o(6),_("src","",i.gs.imgUrl,"/dropdown-arrow.svg",f),o(2),U(i.typeOfIssuesArray),o(8),p("matDatepicker",d)("min",i.minDate)("ngClass",i.gs.addCls("start_time",i.f)),o(1),p("for",d),o(8),p("matDatepicker",l)("min",i.minDate)("ngClass",i.gs.addCls("end_time",i.f)),o(1),p("for",l),o(8),p("matDatepicker",a)("min",i.minDate)("ngClass",i.gs.addCls("due_date",i.f)),o(1),p("for",a),o(7),p("value",i.form.value==null?null:i.form.value.currency_code),o(6),_("src","",i.gs.imgUrl,"/dropdown-arrow.svg",f),o(2),U(i.currenciesArray),o(8),p("currency",(v=i.form.value==null?null:i.form.value.currency_code)!==null&&v!==void 0?v:"USD"),o(6),p("currency",(b=i.form.value==null?null:i.form.value.currency_code)!==null&&b!==void 0?b:"USD"),o(6),p("currency",(q=i.form.value==null?null:i.form.value.currency_code)!==null&&q!==void 0?q:"USD"),o(4),p("layout","inline")("multiple",!0)("title","")("accept","*")}}function Bt(r,m){r&1&&(t(0,"div",3),n(1,"Priview"),e())}var ut=(()=>{let m=class m{get f(){return this.form.controls}constructor(l,a,i,v){this.gs=l,this.modalService=a,this.confirmDialog=i,this.itemService=v,this.loading=this.gs.store.select(j.RequestLoading),this.submitted=!1,this.showPreview=!1,this.typeOfIssuesArray=B.TypeOfIssuesArray,this.allFiles={image:[],video:[],docs:[]},this.catalog=null,this.update=null,this.currenciesArray=B.CurrenciesArray,this.minDate=new Date}ngOnInit(){this.formValidation()}get ownerRefrence(){return this.catalog?.agreement?.userCatalogOrdersReferences.find(l=>l.relation===B.USER_CATALOG_ROLE_OWNER)??null}get owner(){return this.catalog?.agreement?.manager??null}get is_relation(){let l="";switch(this.gs.identity?.role){case O.ROLE_OWNER:l=B.USER_CATALOG_ROLE_OWNER;break;case O.ROLE_OWNER:l=B.USER_CATALOG_ROLE_MANAGER;break;case O.ROLE_OWNER:l=B.USER_CATALOG_ROLE_VENDOR;break;default:l=B.USER_CATALOG_ROLE_TENANT;break}return l}formValidation(){this.form=this.gs.formBuilder.group({relation:new c(this.is_relation),type:new c("bill",[S.required]),type_of_request:new c("",[S.required]),parent_id:new c(""),order_id:new c(""),catalog_id:new c("",[S.required]),category_id:new c(""),user_id:new c(this.gs.identity?.id),receivers:new c([]),currency_code:new c(null,[S.required]),assign_by:new c(null),assign_to:new c(null),location_id:new c(""),files:new c(""),description:new c("",[S.required]),quantity:new c(null),options:new c(null),start_time:new c(null,[S.required]),end_time:new c(null,[S.required]),due_date:new c(null,[S.required]),comment:new c(""),amount:new c(null,[S.required]),tax_rates:new c(null,[S.required]),total_amount:new c(null,[S.required]),is_opened:new c("1"),action:new c(null),reason:new c(null),paid_by:new c(null),paid_to:new c(null),action_by:new c(this.gs.identity?.id),status:new c("1")})}SelectProperty(){let l=this.modalService.open(oe,{windowClass:"center",backdrop:"static",keyboard:!1,animation:!0,centered:!0,size:"sm"});l.componentInstance.catalog_id=this.form.value?.catalog_id,l.componentInstance.agreement_status=(this.gs.is_tenant,""),l.componentInstance.key=this.gs.is_tenant?I.Catalog.reference:I.Catalog.listing,l.result.then(a=>{if(a){if(this.catalog=a.item,this.gs.is_owner&&this.catalog?.user_id!==this.gs.identity?.id){this.confirmDialog.confirm({message:"This Property manage by manager",rejectVisible:!1,acceptLabel:"Okay"},()=>console.log("Yes"),()=>console.log("No"));return}if(this.catalog?.owner_id===null){this.confirmDialog.confirm({message:"Owner is not available",rejectVisible:!1,acceptLabel:"Okay"},()=>console.log("Yes"),()=>console.log("No"));return}this.form.patchValue({order_id:this.catalog?.order_id,catalog_id:this.catalog?.id,category_id:this.catalog?.category_id,location_id:this.catalog?.location_id,receivers:[this.catalog?.owner_id]})}},a=>{console.log("reason",a)})}onSubmitPreview(l){if(this.submitted=!0,!this.form.valid){this.gs.validateAllFormFields(this.form),this.submitted=!1;return}let a=Q({},this.form.value);this.showPreview=!0}onSubmit(l){if(console.log("form",l.value),!this.form.valid){this.gs.validateAllFormFields(this.form),this.submitted=!1;return}let a=this.form.value,i=Q({},l.value),v=(0,$e.default)(a.start_time).format("YYYY-MM-DD hh:mm:ss"),b=(0,$e.default)(a.end_time).format("YYYY-MM-DD hh:mm:ss"),q=(0,$e.default)(a.due_date).format("YYYY-MM-DD hh:mm:ss");i.start_time=v,i.end_time=b,i.due_date=q;let Le=this.update===null?`add-${I.Request.listing}`:`update-${I.Request.listing}`;this.gs.store.dispatch(G.RequestParams({method:"POST",params:{UserRequestForm:i},params2:null,key:Le,url:"/bills/issued/pending-requests",sort:null,msg:"You have successfully added bill."}))}};m.\u0275fac=function(a){return new(a||m)(h(M),h(J),h(re),h(ae))},m.\u0275cmp=F({type:m,selectors:[["app-bill-form-owner"]],standalone:!0,features:[L],decls:2,vars:2,consts:[[3,"formGroup"],["class","formdiv"],[3,"formGroup","ngSubmit"],[1,"formdiv"],[1,"form-group"],[1,"btndivtop"],["type","button",1,"btn","btn-primary",3,"click"],["class","d-flex"],["type","button",1,"btn","btn-primary","ms-4"],["alt","",3,"src"],["class","invalid-feedback d-block"],["type","text","value","Tenancy Information","readonly","",1,"form-control"],[1,"prodetails"],[1,"detailbox"],[1,"row"],[1,"col-sm-4"],[1,"col-sm-8"],["controlErrorContainer","",1,"input-group"],["type","text","placeholder","Type of Request","readonly","","formControlName","type_of_request",1,"form-control",3,"value","click"],[1,"input-group-text"],["ngbDropdown",""],["myDrop","ngbDropdown"],["type","button","ngbDropdownToggle","","ngbDropdownAnchor",""],[1,"name"],["ngbDropdownMenu",""],[1,"col"],["placeholder","Choose a start date","formControlName","start_time",1,"form-control",3,"matDatepicker","min","ngClass"],["matSuffix","",3,"for"],["start_time",""],["placeholder","Choose a start date","formControlName","end_time",1,"form-control",3,"matDatepicker","min","ngClass"],["end_time",""],["placeholder","Choose a start date","formControlName","due_date",1,"form-control",3,"matDatepicker","min","ngClass"],["due_date",""],["type","text","placeholder","--Please Select--","readonly","","formControlName","currency_code",1,"form-control",3,"value","click"],["myDrop2","ngbDropdown"],["mode","currency","locale","en-SA","formControlName","amount","placeholder","- Please Enter -","inputStyleClass","w-50 bg-white",3,"currency"],["mode","currency","locale","en-SA","formControlName","tax_rates","placeholder","- Please Enter -","inputStyleClass","w-50 bg-white",3,"currency"],["mode","currency","locale","en-SA","formControlName","total_amount","placeholder","- Please Enter -","inputStyleClass","w-50 bg-white",3,"currency"],["placeholder","Description","name","Description","formControlName","description",1,"form-control"],[1,"form-group","filesupload"],[3,"layout","multiple","title","accept","getFileId","getFiles"],[1,"btndiv"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-default"],[1,"d-flex"],[2,"width","50px",3,"src","alt"],[2,"line-height","14px","padding-top","10px"],[1,"mb-0"],[1,"invalid-feedback","d-block"],["ngbDropdownItem","",3,"click"]],template:function(a,i){a&1&&x(0,Lt,158,48,"form",0)(1,Bt,2,0,"div",1),a&2&&(y(0,i.showPreview?-1:0),o(1),y(1,i.showPreview?1:-1))},dependencies:[K,ue,H,W,pe,ve,ge,xe,Ce,Se,ie,te,fe,ee,_e,De,we,Re,ke,se,be,Ee,ce,Z]});let r=m;return r})();var He=Xe(et());function Ot(r,m){if(r&1&&(t(0,"div"),s(1,"img",9)(2,"img",9),n(3,"Select Property "),e()),r&2){let d=u(2);o(1),_("src","",d.gs.imgUrl,"/Select-Property.svg",f),o(1),_("src","",d.gs.imgUrl,"/Vector-13.svg",f)}}function Mt(r,m){if(r&1&&(t(0,"div",44)(1,"div"),s(2,"img",45),e(),t(3,"div",46)(4,"p"),n(5,"Selected Property"),e(),t(6,"p",47),n(7),e()()()),r&2){let d=u(2),l;o(2),p("src",d.catalog.cover==null?null:d.catalog.cover.path,f)("alt",d.catalog.title),o(5),N(" ",(l=d.catalog.location==null?null:d.catalog.location.location)!==null&&l!==void 0?l:d.catalog.title," ")}}function qt(r,m){r&1&&(t(0,"div"),n(1),e()),r&2&&(o(1),C("Property is required"))}function At(r,m){if(r&1&&(t(0,"div",48),x(1,qt,2,1,"div"),e()),r&2){let d=u(2);o(1),y(1,d.f.catalog_id.errors&&d.f.catalog_id.errors.required?1:-1)}}function Nt(r,m){if(r&1){let d=A();t(0,"li")(1,"a",49),g("click",function(){let i=R(d).$implicit,v=u(2);return k(v.form.patchValue({type_of_request:i.value}))}),n(2),e()()}if(r&2){let d=m.$implicit;o(2),C(d.value)}}function Pt(r,m){if(r&1){let d=A();t(0,"li")(1,"a",49),g("click",function(){let i=R(d).$implicit,v=u(2);return k(v.form.patchValue({currency_code:i.key}))}),n(2),e()()}if(r&2){let d=m.$implicit;o(2),C(d.key)}}function Vt(r,m){if(r&1){let d=A();t(0,"form",2),g("ngSubmit",function(){R(d);let a=u();return k(a.onSubmit(a.form))}),t(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),g("click",function(){R(d);let a=u();return k(a.SelectProperty())}),x(5,Ot,4,2,"div")(6,Mt,8,3,"div",7),e(),t(7,"button",8),s(8,"img",9)(9,"img",9),n(10,"Expenses Report "),e()(),x(11,At,2,1,"div",10),e(),t(12,"div",4),s(13,"input",11),e(),t(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15),n(18,"Property Owner"),e(),t(19,"div",16),n(20),e()()(),t(21,"div",13)(22,"div",14)(23,"div",15),n(24,"Tenant"),e(),t(25,"div",16),n(26),e()()(),t(27,"div",13)(28,"div",14)(29,"div",15),n(30,"Permitted Occupier"),e(),t(31,"div",16),n(32),e()()(),t(33,"div",13)(34,"div",14)(35,"div",15),n(36,"Rent Amount"),e(),t(37,"div",16),n(38),E(39,"currency"),e()()(),t(40,"div",13)(41,"div",14)(42,"div",15),n(43,"Payable"),e(),t(44,"div",16),n(45),E(46,"currency"),e()()(),t(47,"div",13)(48,"div",14)(49,"div",15),n(50,"Deposit"),e(),t(51,"div",16),n(52),E(53,"currency"),e()()(),t(54,"div",13)(55,"div",14)(56,"div",15),n(57,"Start Date"),e(),t(58,"div",16),n(59),E(60,"date"),e()()(),t(61,"div",13)(62,"div",14)(63,"div",15),n(64,"End Date"),e(),t(65,"div",16),n(66),E(67,"date"),e()()(),t(68,"div",13)(69,"div",14)(70,"div",15),n(71,"Terms"),e(),t(72,"div",16),n(73),e()()()(),t(74,"div",4)(75,"h5"),n(76,"Type of Bills"),e(),t(77,"div",17)(78,"input",18),g("click",function(){R(d);let a=T(81);return k(a.open())}),e(),t(79,"span",19)(80,"div",20,21)(82,"button",22)(83,"span",23),s(84,"img",9),e()(),t(85,"ul",24),V(86,Nt,3,1,"li",null,P),e()()()()(),t(88,"div",14)(89,"div",25)(90,"div",4)(91,"label"),n(92,"Bill Start Date"),e(),t(93,"div",17),s(94,"input",26)(95,"mat-datepicker-toggle",27)(96,"mat-datepicker",null,28),e()()(),t(98,"div",25)(99,"div",4)(100,"label"),n(101,"Bill End Date"),e(),t(102,"div",17),s(103,"input",29)(104,"mat-datepicker-toggle",27)(105,"mat-datepicker",null,30),e()()(),t(107,"div",25)(108,"div",4)(109,"label"),n(110,"Due Date"),e(),t(111,"div",17),s(112,"input",31)(113,"mat-datepicker-toggle",27)(114,"mat-datepicker",null,32),e()()()(),t(116,"div",4)(117,"label"),n(118,"Currency"),e(),t(119,"div",17)(120,"input",33),g("click",function(){R(d);let a=T(123);return k(a.open())}),e(),t(121,"span",19)(122,"div",20,34)(124,"button",22)(125,"span",23),s(126,"img",9),e()(),t(127,"ul",24),V(128,Pt,3,1,"li",null,P),e()()()()(),t(130,"div",12)(131,"div",13)(132,"div",14)(133,"div",15),n(134,"Gross amount"),e(),t(135,"div",16),s(136,"a-inputNumber",35),e()()(),t(137,"div",13)(138,"div",14)(139,"div",15),n(140,"Tax"),e(),t(141,"div",16),s(142,"a-inputNumber",36),e()()(),t(143,"div",13)(144,"div",14)(145,"div",15),n(146,"Total amount due"),e(),t(147,"div",16),s(148,"a-inputNumber",37),e()()()(),t(149,"div",4),s(150,"textarea",38),e(),t(151,"div",39)(152,"app-file-drag-drop-uploader",40),g("getFileId",function(a){R(d);let i=u();return k(i.form.patchValue({files:a}))})("getFiles",function(a){R(d);let i=u();return k(i.allFiles=a)}),e()(),t(153,"div",41)(154,"button",42),n(155,"Submit"),e(),t(156,"button",43),n(157,"Cancel"),e()()()()}if(r&2){let d=T(97),l=T(106),a=T(115),i=u(),v,b,q;p("formGroup",i.form),o(5),y(5,i.catalog?-1:5),o(1),y(6,i.catalog?6:-1),o(2),_("src","",i.gs.imgUrl,"/Select-Property.svg",f),o(1),_("src","",i.gs.imgUrl,"/Vector-13.svg",f),o(2),y(11,i.gs.isValid("catalog_id",i.f)?11:-1),o(9),C(i.catalog==null||i.catalog.owner==null?null:i.catalog.owner.name),o(6),C(i.tenant==null?null:i.tenant.name),o(6),C(i.tenantRefrence==null?null:i.tenantRefrence.permitted_occupier),o(6),C(w(39,38,i.tenantRefrence==null?null:i.tenantRefrence.amount)),o(7),C(w(46,40,i.tenantRefrence==null?null:i.tenantRefrence.amount)),o(7),N(" ",w(53,42,i.tenantRefrence==null?null:i.tenantRefrence.deposit_amount)," "),o(7),N(" ",w(60,44,(i.tenantRefrence==null?null:i.tenantRefrence.start_time)&&(i.tenantRefrence==null?null:i.tenantRefrence.start_time))," "),o(7),N(" ",w(67,46,(i.tenantRefrence==null?null:i.tenantRefrence.end_time)&&(i.tenantRefrence==null?null:i.tenantRefrence.end_time))," "),o(7),C(i.tenantRefrence==null?null:i.tenantRefrence.terms),o(5),p("value",i.form.value==null?null:i.form.value.type_of_request),o(6),_("src","",i.gs.imgUrl,"/dropdown-arrow.svg",f),o(2),U(i.typeOfIssuesArray),o(8),p("matDatepicker",d)("min",i.minDate)("ngClass",i.gs.addCls("start_time",i.f)),o(1),p("for",d),o(8),p("matDatepicker",l)("min",i.minDate)("ngClass",i.gs.addCls("end_time",i.f)),o(1),p("for",l),o(8),p("matDatepicker",a)("min",i.minDate)("ngClass",i.gs.addCls("due_date",i.f)),o(1),p("for",a),o(7),p("value",i.form.value==null?null:i.form.value.currency_code),o(6),_("src","",i.gs.imgUrl,"/dropdown-arrow.svg",f),o(2),U(i.currenciesArray),o(8),p("currency",(v=i.form.value==null?null:i.form.value.currency_code)!==null&&v!==void 0?v:"USD"),o(6),p("currency",(b=i.form.value==null?null:i.form.value.currency_code)!==null&&b!==void 0?b:"USD"),o(6),p("currency",(q=i.form.value==null?null:i.form.value.currency_code)!==null&&q!==void 0?q:"USD"),o(4),p("layout","inline")("multiple",!0)("title","")("accept","*")}}function Ut(r,m){r&1&&(t(0,"div",3),n(1,"Priview"),e())}var vt=(()=>{let m=class m{get f(){return this.form.controls}constructor(l,a,i,v){this.gs=l,this.modalService=a,this.confirmDialog=i,this.itemService=v,this.loading=this.gs.store.select(j.RequestLoading),this.submitted=!1,this.showPreview=!1,this.typeOfIssuesArray=B.TypeOfIssuesArray,this.allFiles={image:[],video:[],docs:[]},this.catalog=null,this.update=null,this.currenciesArray=B.CurrenciesArray,this.minDate=new Date}ngOnInit(){this.formValidation()}get tenantRefrence(){return this.catalog?.agreement?.userCatalogOrdersReferences.find(l=>l.relation===B.USER_CATALOG_ROLE_TENANT)??null}get tenant(){return this.catalog?.agreement?.tenant??null}get is_relation(){let l="";switch(this.gs.identity?.role){case O.ROLE_OWNER:l=B.USER_CATALOG_ROLE_OWNER;break;case O.ROLE_OWNER:l=B.USER_CATALOG_ROLE_MANAGER;break;case O.ROLE_OWNER:l=B.USER_CATALOG_ROLE_VENDOR;break;default:l=B.USER_CATALOG_ROLE_TENANT;break}return l}formValidation(){this.form=this.gs.formBuilder.group({relation:new c(this.is_relation),type:new c("bill",[S.required]),type_of_request:new c("",[S.required]),parent_id:new c(""),order_id:new c(""),catalog_id:new c("",[S.required]),category_id:new c(""),user_id:new c(this.gs.identity?.id),receivers:new c([]),currency_code:new c(null,[S.required]),assign_by:new c(null),assign_to:new c(null),location_id:new c(""),files:new c(""),description:new c("",[S.required]),quantity:new c(null),options:new c(null),start_time:new c(null,[S.required]),end_time:new c(null,[S.required]),due_date:new c(null,[S.required]),comment:new c(""),amount:new c(null,[S.required]),tax_rates:new c(null,[S.required]),total_amount:new c(null,[S.required]),is_opened:new c("1"),action:new c(null),reason:new c(null),paid_by:new c(null),paid_to:new c(null),action_by:new c(this.gs.identity?.id),status:new c("1")})}SelectProperty(){let l=this.modalService.open(oe,{windowClass:"center",backdrop:"static",keyboard:!1,animation:!0,centered:!0,size:"sm"});l.componentInstance.catalog_id=this.form.value?.catalog_id,l.componentInstance.agreement_status=this.gs.is_tenant?"":"not-managed",l.componentInstance.key=this.gs.is_tenant?I.Catalog.reference:I.Catalog.listing,l.result.then(a=>{if(a){if(this.catalog=a.item,this.gs.is_owner&&this.catalog?.user_id!==this.gs.identity?.id){this.confirmDialog.confirm({message:"This Property manage by manager",rejectVisible:!1,acceptLabel:"Okay"},()=>console.log("Yes"),()=>console.log("No"));return}if(this.catalog?.agreement?.tenant===null){this.confirmDialog.confirm({message:"Tenant is not available",rejectVisible:!1,acceptLabel:"Okay"},()=>console.log("Yes"),()=>console.log("No"));return}this.form.patchValue({order_id:this.catalog?.order_id,catalog_id:this.catalog?.id,category_id:this.catalog?.category_id,location_id:this.catalog?.location_id,receivers:[this.catalog?.agreement?.tenant.id]})}},a=>{console.log("reason",a)})}onSubmitPreview(l){if(this.submitted=!0,!this.form.valid){this.gs.validateAllFormFields(this.form),this.submitted=!1;return}let a=Q({},this.form.value);this.showPreview=!0}onSubmit(l){if(console.log("form",l.value),!this.form.valid){this.gs.validateAllFormFields(this.form),this.submitted=!1;return}let a=this.form.value,i=Q({},l.value),v=(0,He.default)(a.start_time).format("YYYY-MM-DD hh:mm:ss"),b=(0,He.default)(a.end_time).format("YYYY-MM-DD hh:mm:ss"),q=(0,He.default)(a.due_date).format("YYYY-MM-DD hh:mm:ss");i.start_time=v,i.end_time=b,i.due_date=q;let Le=this.update===null?`add-${I.Request.listing}`:`update-${I.Request.listing}`;this.gs.store.dispatch(G.RequestParams({method:"POST",params:{UserRequestForm:i},params2:null,key:Le,url:"/bills/issued/pending-requests",sort:null,msg:"You have successfully added bill."}))}};m.\u0275fac=function(a){return new(a||m)(h(M),h(J),h(re),h(ae))},m.\u0275cmp=F({type:m,selectors:[["app-bill-form-tenant"]],standalone:!0,features:[L],decls:2,vars:2,consts:[[3,"formGroup"],["class","formdiv"],[3,"formGroup","ngSubmit"],[1,"formdiv"],[1,"form-group"],[1,"btndivtop"],["type","button",1,"btn","btn-primary",3,"click"],["class","d-flex"],["type","button",1,"btn","btn-primary","ms-4"],["alt","",3,"src"],["class","invalid-feedback d-block"],["type","text","value","Tenancy Information","readonly","",1,"form-control"],[1,"prodetails"],[1,"detailbox"],[1,"row"],[1,"col-sm-4"],[1,"col-sm-8"],["controlErrorContainer","",1,"input-group"],["type","text","placeholder","Type of Request","readonly","","formControlName","type_of_request",1,"form-control",3,"value","click"],[1,"input-group-text"],["ngbDropdown",""],["myDrop","ngbDropdown"],["type","button","ngbDropdownToggle","","ngbDropdownAnchor",""],[1,"name"],["ngbDropdownMenu",""],[1,"col"],["placeholder","Choose a start date","formControlName","start_time",1,"form-control",3,"matDatepicker","min","ngClass"],["matSuffix","",3,"for"],["start_time",""],["placeholder","Choose a start date","formControlName","end_time",1,"form-control",3,"matDatepicker","min","ngClass"],["end_time",""],["placeholder","Choose a start date","formControlName","due_date",1,"form-control",3,"matDatepicker","min","ngClass"],["due_date",""],["type","text","placeholder","--Please Select--","readonly","","formControlName","currency_code",1,"form-control",3,"value","click"],["myDrop2","ngbDropdown"],["mode","currency","locale","en-SA","formControlName","amount","placeholder","- Please Enter -","inputStyleClass","w-50 bg-white",3,"currency"],["mode","currency","locale","en-SA","formControlName","tax_rates","placeholder","- Please Enter -","inputStyleClass","w-50 bg-white",3,"currency"],["mode","currency","locale","en-SA","formControlName","total_amount","placeholder","- Please Enter -","inputStyleClass","w-50 bg-white",3,"currency"],["placeholder","Description","name","Description","formControlName","description",1,"form-control"],[1,"form-group","filesupload"],[3,"layout","multiple","title","accept","getFileId","getFiles"],[1,"btndiv"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-default"],[1,"d-flex"],[2,"width","50px",3,"src","alt"],[2,"line-height","14px","padding-top","10px"],[1,"mb-0"],[1,"invalid-feedback","d-block"],["ngbDropdownItem","",3,"click"]],template:function(a,i){a&1&&x(0,Vt,158,48,"form",0)(1,Ut,2,0,"div",1),a&2&&(y(0,i.showPreview?-1:0),o(1),y(1,i.showPreview?1:-1))},dependencies:[K,ue,H,W,pe,ve,ge,xe,Ce,Se,ie,te,fe,ee,_e,De,we,Re,ke,se,be,Ee,ce,Z]});let r=m;return r})();function jt(r,m){r&1&&(t(0,"div")(1,"div",8)(2,"a",9),s(3,"i",10),t(4,"span"),n(5,"|"),e(),n(6,"Send to Tenant"),e(),t(7,"a",11),s(8,"i",12),t(9,"span"),n(10,"|"),e(),n(11,"Send to Property Manager"),e()()())}function Gt(r,m){r&1&&(t(0,"div")(1,"div",8)(2,"a",9),s(3,"i",10),t(4,"span"),n(5,"|"),e(),n(6,"Send to Tenant"),e(),t(7,"a",13),s(8,"i",12),t(9,"span"),n(10,"|"),e(),n(11,"Send to Property Owner"),e()()())}function Yt(r,m){r&1&&(t(0,"div")(1,"div",8)(2,"a",11),s(3,"i",10),t(4,"span"),n(5,"|"),e(),n(6,"Send to Property Manager"),e(),t(7,"a",13),s(8,"i",12),t(9,"span"),n(10,"|"),e(),n(11,"Send to Property Owner"),e(),t(12,"a",9),s(13,"i",12),t(14,"span"),n(15,"|"),e(),n(16,"Send to Tenant"),e()()())}function zt(r,m){r&1&&s(0,"app-bill-form-tenant")}function $t(r,m){r&1&&s(0,"app-bill-form-owner")}function Ht(r,m){r&1&&s(0,"app-bill-form-manager")}var qe=(()=>{let m=class m{constructor(l,a,i){this.gs=l,this.modalService=a,this.router=i}SelectProperty(){this.modalService.open(oe,{windowClass:"center billspop",backdrop:"static",keyboard:!1,animation:!0,size:"xl"}).result.then(a=>{console.log("result",a)},a=>{console.log("reason",a)})}};m.\u0275fac=function(a){return new(a||m)(h(M),h(J),h(ye))},m.\u0275cmp=F({type:m,selectors:[["app-bill-create"]],standalone:!0,features:[L],decls:19,vars:6,consts:[[1,"bill-create"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"formdiv"],[1,"form-group"],[1,"btn-group"],["routerLink","/bills/bill-tenant","routerLinkActive","active",1,"btn","btn-outline-primary"],[1,"fas","fa-user-tie"],["routerLink","/bills/bill-manager","routerLinkActive","active",1,"btn","btn-outline-primary"],[1,"fas","fa-house-user"],["routerLink","/bills/bill-owner","routerLinkActive","active",1,"btn","btn-outline-primary"]],template:function(a,i){a&1&&(t(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),n(5,"Home"),e()(),t(6,"li",3)(7,"a",4),n(8,"Bills"),e()(),t(9,"li",5),n(10,"Add Bill"),e()()(),t(11,"div",6)(12,"div",7),x(13,jt,12,0,"div")(14,Gt,12,0,"div")(15,Yt,17,0,"div"),e()(),x(16,zt,1,0,"app-bill-form-tenant")(17,$t,1,0,"app-bill-form-owner")(18,Ht,1,0,"app-bill-form-manager"),e()),a&2&&(o(13),y(13,i.gs.is_owner?13:-1),o(1),y(14,i.gs.is_manager?14:-1),o(1),y(15,i.gs.is_vendor?15:-1),o(1),y(16,i.router.url==="/bills/bill-tenant"?16:-1),o(1),y(17,i.router.url==="/bills/bill-owner"?17:-1),o(1),y(18,i.router.url==="/bills/bill-manager"?18:-1))},dependencies:[Y,je,vt,ut,pt]});let r=m;return r})();var le=(()=>{let m=class m{constructor(l,a,i,v,b){this.gs=l,this.activeRoute=a,this.confirmDialog=i,this.itemService=v,this.router=b,this.itemObservable=this.gs.store.select(j.RequestSelectors[I.Request.view]),this.loading=this.gs.store.select(j.RequestLoadingKey[`${I.Request.view}Loading`]),this.item=null,this.item_id=null,this.accept_loading=!1,this.remove_loading=!1,this.complete_loading=!1,this.Enums=O,this.url=this.router.url.split("/").slice(0,-1).join("/"),this.key="",this.relation="",this.item_id=this.activeRoute.snapshot.params.id}ngOnInit(){let l=this.activeRoute.snapshot.routeConfig?.data;this.key=l.key,this.relation=l.relation,this.onLoad(),this.itemObservable.subscribe(a=>this.item=a)}onLoad(){let l=G.RequestParams({method:"GET",params:null,params2:{item_id:this.item_id},key:I.Request.view});this.gs.store.dispatch(l)}ngOnDestroy(){this.gs.store.dispatch(G.RequestList({data:null,key:I.Request.view}))}};m.\u0275fac=function(a){return new(a||m)(h(M),h(ne),h(re),h(ae),h(ye))},m.\u0275cmp=F({type:m,selectors:[["app-bill-view"]],standalone:!0,features:[L],decls:116,vars:8,consts:[[1,"bill-view-page"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"btndivtop"],[1,"row"],[1,"col-sm-6"],["routerlink",".","ng-reflect-router-link",".","href","/properties/create",1,"btn","btn-danger"],["aria-hidden","true",1,"fas","fa-trash"],["alt","",3,"src"],["routerlink","/","ng-reflect-router-link","/","href","/",1,"btn","btn-primary"],[1,"fas","fa-file-pdf"],[1,"col-sm-6","text-right"],["routerlink","/","ng-reflect-router-link","/","href","/",1,"btn","btn-primary","two"],["aria-hidden","true",1,"fas","fa-plus"],[1,"bv-middle"],[1,"col-sm-5"],[1,"sliderdiv"],[1,"statusdiv"],["type","button",1,"btn","btn-secondary","status"],[1,"fas","fa-check-circle"],["alt","",1,"icone",3,"src"],[1,"prodetails"],[1,"detailbox"],[1,"col-sm-7"],[1,"discription"],[1,"content"],[1,"billsent"],[1,"image"],[1,"online","danger"],[1,"detail"],[1,"desi"],[1,"address"],[1,"clearfix"],[1,"biilsbottom"],[1,"created"],["alt","Images",1,"create",3,"src"],[1,"right"],[1,"pv-box","location"],[1,"pv-title"],[1,"pv-body"],["alt","","src","/assets/images/map.png"]],template:function(a,i){a&1&&(t(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),n(5,"Home"),e()(),t(6,"li",3)(7,"a",4),n(8,"Bills"),e()(),t(9,"li",3)(10,"a",4),n(11,"Issued Bills"),e()(),t(12,"li",3)(13,"a",4),n(14,"Bill History"),e()(),t(15,"li",5),n(16," Bill History Details "),e()()(),t(17,"div",6)(18,"div",7)(19,"div",8)(20,"a",9),s(21,"i",10)(22,"img",11),n(23,"Delete Bills"),e(),t(24,"a",12),s(25,"i",13)(26,"img",11),n(27,"View Bill"),e()(),t(28,"div",14)(29,"a",15),n(30,"Add Bills"),s(31,"i",16),e()()()(),t(32,"div",17)(33,"div",7)(34,"div",18)(35,"div",19),n(36,"Slider here"),e(),t(37,"div",20)(38,"button",21),s(39,"i",22)(40,"img",11),n(41,"Paid "),e(),t(42,"button",21),s(43,"img",23)(44,"img",11),n(45,"Pending "),e()(),t(46,"div",24)(47,"div",25)(48,"div",7)(49,"div",26),n(50,"Bill No "),t(51,"span"),n(52,":"),e()(),t(53,"div",18),n(54,"0123456789"),e()()(),t(55,"div",25)(56,"div",7)(57,"div",26),n(58,"Total amount Due "),t(59,"span"),n(60,":"),e()(),t(61,"div",18),n(62,"$2,500.00"),e()()(),t(63,"div",25)(64,"div",7)(65,"div",26),n(66,"Due Date "),t(67,"span"),n(68,":"),e()(),t(69,"div",18),n(70,"0123456789"),e()()()(),t(71,"div",27)(72,"h4"),n(73,"Description "),t(74,"span"),n(75,"High"),e()(),t(76,"div",28),n(77," Lorem Ipsum is simply dummy text of industry. "),e()(),t(78,"div",29)(79,"h4"),n(80,"Bill Was sent to"),e(),t(81,"div",30),s(82,"img",11)(83,"div",31),e(),t(84,"div",32)(85,"h5"),n(86,"Jone Doe"),e(),t(87,"div",33),n(88,"Property Manager"),e(),t(89,"div",34),n(90,"Saudi Arabia, Riyadh City"),e()(),s(91,"div",35),e(),t(92,"div",36)(93,"div",37),s(94,"img",38),t(95,"div",39)(96,"h5"),n(97,"Created"),e(),n(98," Sep, 03, 2021, 15:00 "),e(),s(99,"div",35),e(),t(100,"div",37),s(101,"img",38),t(102,"div",39)(103,"h5"),n(104,"Updated"),e(),n(105," Sep, 03, 2021, 15:00 "),e(),s(106,"div",35),e()()(),t(107,"div",26),s(108,"app-one-to-one-chat"),e()()(),t(109,"div",40)(110,"div",41)(111,"h1"),n(112,"Location of Property"),e()(),t(113,"div",42)(114,"div",30),s(115,"img",43),e()()()()),a&2&&(o(22),_("src","",i.gs.imgUrl,"/vector-10.svg",f),o(4),_("src","",i.gs.imgUrl,"/vector-10.svg",f),o(14),_("src","",i.gs.imgUrl,"/vector-9.svg",f),o(3),_("src","",i.gs.imgUrl,"/pending.svg",f),o(1),_("src","",i.gs.imgUrl,"/vector-9.svg",f),o(38),_("src","",i.gs.imgUrl,"/manager-1.png",f),o(12),_("src","",i.gs.imgUrl,"/created.svg",f),o(7),_("src","",i.gs.imgUrl,"/updated.svg",f))},dependencies:[Y,mt]});let r=m;return r})();var Te=(()=>{let m=class m{constructor(){}ngOnInit(){}};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=F({type:m,selectors:[["app-bills"]],standalone:!0,features:[L],decls:1,vars:0,template:function(a,i){a&1&&s(0,"router-outlet")},dependencies:[he]});let r=m;return r})();function Wt(r,m){if(r&1&&(t(0,"div"),s(1,"img",27),e()),r&2){let d=u();o(1),_("src","",d.gs.imgUrl,"/property-4.png",f)}}function Kt(r,m){if(r&1&&(t(0,"div"),s(1,"img",27),e()),r&2){let d=u();o(1),_("src","",d.gs.imgUrl,"/property-4.png",f)}}function Jt(r,m){if(r&1&&(t(0,"div"),s(1,"img",27),e()),r&2){let d=u();o(1),_("src","",d.gs.imgUrl,"/property-4.png",f)}}function Qt(r,m){if(r&1&&(t(0,"div"),s(1,"img",27),e()),r&2){let d=u();o(1),_("src","",d.gs.imgUrl,"/property-4.png",f)}}function Xt(r,m){if(r&1&&(t(0,"div"),s(1,"img",27),e()),r&2){let d=u();o(1),_("src","",d.gs.imgUrl,"/property-4.png",f)}}function Zt(r,m){if(r&1&&(t(0,"div"),s(1,"img",27),e()),r&2){let d=u();o(1),_("src","",d.gs.imgUrl,"/property-4.png",f)}}function ei(r,m){if(r&1&&(t(0,"div"),s(1,"img",27),e()),r&2){let d=u();o(1),_("src","",d.gs.imgUrl,"/property-4.png",f)}}var gt=(()=>{let m=class m{constructor(l,a){this.gs=l,this.activeModal=a,this.options={loop:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:700,margin:15,autoplay:!1,smartSpeed:1200,navText:["",""],responsive:{0:{items:5},400:{items:5},740:{items:5},940:{items:5}},nav:!0}}viewBill(){this.gs.router("/bills/view/12"),this.activeModal.close()}};m.\u0275fac=function(a){return new(a||m)(h(M),h(rt))},m.\u0275cmp=F({type:m,selectors:[["app-bill-status-dialog"]],standalone:!0,features:[L],decls:65,vars:4,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["alt","Close",3,"src"],[1,"bills-status-popup"],[1,"sliderdiv"],[1,"row"],[1,"col-sm-1"],[1,"col-sm-10"],[3,"options"],["carouselSlide",""],[1,"billsbox","description"],[1,"contenttwo"],[1,"billsbox","details"],[1,"col-sm-4"],[1,"col-sm-5"],[1,"col-sm-3"],[1,"biilsbottom"],[1,"col-sm-9"],[1,"col-sm-6"],[1,"created"],["alt","Images",1,"create",3,"src"],[1,"right"],[1,"clearfix"],[1,"btndivbottom"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-file-pdf"],["alt","","src","/assets/images/vector-7.svg"],["alt","",3,"src"]],template:function(a,i){a&1&&(t(0,"div",0)(1,"button",1),g("click",function(){return i.activeModal.dismiss()}),s(2,"img",2),e(),t(3,"div",3)(4,"div",4)(5,"div",5),s(6,"div",6),t(7,"div",7)(8,"owl-carousel-o",8),x(9,Wt,2,1,"ng-template",9)(10,Kt,2,1,"ng-template",9)(11,Jt,2,1,"ng-template",9)(12,Qt,2,1,"ng-template",9)(13,Xt,2,1,"ng-template",9)(14,Zt,2,1,"ng-template",9)(15,ei,2,1,"ng-template",9),e()(),s(16,"div",6),e()(),t(17,"div",10)(18,"h2"),n(19,"Description"),e(),t(20,"div",11),n(21," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. "),e()(),t(22,"div",12)(23,"div",5)(24,"div",13)(25,"h2"),n(26,"Recipient"),e(),t(27,"div",11),n(28,"Lorem Ipsum dollar"),e()(),t(29,"div",14)(30,"h2"),n(31,"Total Amount Due"),e(),t(32,"div",11),n(33,"$2,500.00"),e()(),t(34,"div",15)(35,"h2"),n(36,"Due Date"),e(),t(37,"div",11),n(38,"10 - Jan - 2021"),e()()()(),t(39,"div",16)(40,"div",5)(41,"div",17)(42,"div",5)(43,"div",18)(44,"div",19),s(45,"img",20),t(46,"div",21)(47,"h5"),n(48,"Created"),e(),n(49," Sep, 03, 2021, 15:00 "),e(),s(50,"div",22),e()(),t(51,"div",18)(52,"div",19),s(53,"img",20),t(54,"div",21)(55,"h5"),n(56,"Updated"),e(),n(57," Sep, 03, 2021, 15:00 "),e(),s(58,"div",22),e()()()(),t(59,"div",15)(60,"div",23)(61,"button",24),g("click",function(){return i.viewBill()}),s(62,"i",25)(63,"img",26),n(64,"View Bill "),e()()()()()()()),a&2&&(o(2),_("src","",i.gs.imgUrl,"/close-btn.svg",f),o(6),p("options",i.options),o(37),_("src","",i.gs.imgUrl,"/created.svg",f),o(8),_("src","",i.gs.imgUrl,"/updated.svg",f))},dependencies:[lt,at,ot]});let r=m;return r})();var Ke=(()=>{let m=class m{constructor(l,a){this.gs=l,this.modalService=a}openDialog(){this.modalService.open(gt,{windowClass:"center billspop",backdrop:"static",keyboard:!1,animation:!0}).result.then(a=>{this.gs.router(`/bills/issued/view/${this.item.id}`)},a=>{console.log("reason",a)})}};m.\u0275fac=function(a){return new(a||m)(h(M),h(J))},m.\u0275cmp=F({type:m,selectors:[["app-issued-listing-item"],["","app-issued-listing-item",""]],inputs:{item:"item"},standalone:!0,features:[L],decls:19,vars:11,consts:[[1,"propertylist"],[1,"row","align-items-center"],[1,"col"],["routerLink",".",3,"click"],[1,"btndiv"],["type","button",1,"btn","btn-secondary",2,"pointer-events","all",3,"click"]],template:function(a,i){a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),g("click",function(){return i.openDialog()}),n(4),e()(),t(5,"div",2),n(6),e(),t(7,"div",2),n(8),e(),t(9,"div",2),n(10),E(11,"date"),e(),t(12,"div",2),n(13),E(14,"date"),e(),t(15,"div",2)(16,"div",4)(17,"button",5),g("click",function(){return i.openDialog()}),n(18," Pending "),e()()()()()),a&2&&(o(4),C(i.item.id),o(2),C(i.item.receiver.name),o(2),C(i.item.catalog_id),o(2),C(Ze(11,5,i.item.updated_at*1e3,"short")),o(3),C(Ze(14,8,i.item.due_date,"short")))},dependencies:[Y,Z]});let r=m;return r})();var Ie=()=>({height:"10px",width:"100%"});function ni(r,m){r&1&&(t(0,"div",29)(1,"div",26)(2,"div",27),s(3,"ngx-skeleton-loader",30),e(),t(4,"div",27),s(5,"ngx-skeleton-loader",30),e(),t(6,"div",27),s(7,"ngx-skeleton-loader",30),e(),t(8,"div",27),s(9,"ngx-skeleton-loader",30),e(),t(10,"div",27),s(11,"ngx-skeleton-loader",30),e(),t(12,"div",27),s(13,"ngx-skeleton-loader",30),e()()()),r&2&&(o(3),p("theme",D(6,Ie)),o(2),p("theme",D(7,Ie)),o(2),p("theme",D(8,Ie)),o(2),p("theme",D(9,Ie)),o(2),p("theme",D(10,Ie)),o(2),p("theme",D(11,Ie)))}function ri(r,m){if(r&1&&V(0,ni,14,12,"div",31,P),r&2){let d=u();U(d.gs.generateFake(3))}}function oi(r,m){if(r&1&&s(0,"div",34),r&2){let d=m.$implicit;p("item",d)}}function ai(r,m){r&1&&(t(0,"div",35),n(1,"Request not found."),e())}function li(r,m){if(r&1){let d=A();t(0,"div",36)(1,"app-pagination",37),g("getPage",function(a){R(d);let i=u(2);return k(i.handlePagination(a))}),E(2,"async"),e()()}if(r&2){let d=u(2),l;o(1),p("pagination",(l=w(2,2,d.catalogs))==null?null:l.pagination)("page",d.params.page)}}function mi(r,m){if(r&1&&(V(0,oi,1,1,"div",38,P),E(2,"async"),x(3,ai,2,0,"div",32),E(4,"async"),E(5,"async"),x(6,li,3,4,"div",33),E(7,"async")),r&2){let d=u(),l,a,i;U((l=w(2,2,d.catalogs))==null?null:l.items),o(3),y(3,((a=w(4,4,d.catalogs))==null?null:a.items)===null||((a=w(5,6,d.catalogs))==null?null:a.items.length)===0?3:-1),o(3),y(6,((i=w(7,8,d.catalogs))==null||i.pagination==null?null:i.pagination.totalCount)>d.params["per-page"]?6:-1)}}var Je=()=>({standalone:!0}),it=(()=>{let m=class m{constructor(l,a){this.gs=l,this.activeRoute=a,this.catalogs=this.gs.store.select(j.RequestSelectors[I.Request.listing]),this.loading=this.gs.store.select(j.RequestLoadingKey[`${I.Request.listing}Loading`]),this.params={q:"",sort:"-id",catalog_id:"",id:"",receiver_id:"",type:"bill",page:1,"per-page":20},this.q="",this.catalog_id="",this.receiver_id="",this.id="",this.title="Pending Bills"}ngOnInit(){let l=this.activeRoute.snapshot.routeConfig?.data;this.title=this.activeRoute.snapshot.title,this.params=Object.assign({},this.params,{status:l.status}),this.onLoad()}onLoad(){let l=G.RequestParams({method:"GET",params:null,params2:this.params,key:I.Request.listing});this.gs.store.dispatch(l)}search(){this.params=Object.assign({},this.params,{q:this.q,page:1}),this.onLoad()}onEnterRequest(){this.params=Object.assign({},this.params,{id:this.id,page:1}),this.onLoad()}onEnterCatalog(){this.params=Object.assign({},this.params,{catalog_id:this.catalog_id,page:1}),this.onLoad()}onEnterReceiver(){this.params=Object.assign({},this.params,{receiver_id:this.receiver_id,page:1}),this.onLoad()}handleStatus(l){let{value:a}=l.target;this.params=Object.assign({},this.params,{is_assign:a,page:1}),this.onLoad()}handlePagination(l){this.params=Object.assign({},this.params,{page:l}),this.onLoad()}};m.\u0275fac=function(a){return new(a||m)(h(M),h(ne))},m.\u0275cmp=F({type:m,selectors:[["app-issued-listing"]],standalone:!0,features:[L],decls:64,vars:17,consts:[[1,"request-listing-page","bills-listing-page"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"searchtop"],[1,"row"],[1,"col-sm-10"],[1,"searchdiv"],[1,"input-group"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"input-group-text"],["type","button",1,"btn",3,"click"],["src","assets/search-meg.svg","alt","Search"],[1,"col-sm-2"],[1,"btndiv"],[1,"btn","btn-primary",3,"routerLink"],[1,"fas","fa-plus"],[1,"rl-filter"],[1,"col-sm-4"],[1,"form-group"],["type","text","name","requestno",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],[1,"listingdiv"],[1,"listingbox"],[1,"propertytop"],[1,"row","align-items-center"],[1,"col"],[1,"propertybottom"],[1,"propertylist"],["count","1",3,"theme"],["class","propertylist"],["class","notfound"],["class",""],["app-issued-listing-item","",1,"propertylist",3,"item"],[1,"notfound"],[1,""],[3,"pagination","page","getPage"],["app-issued-listing-item","","class","propertylist",3,"item"]],template:function(a,i){a&1&&(t(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),n(5,"Home"),e()(),t(6,"li",3)(7,"a",4),n(8,"Bills"),e()(),t(9,"li",5),n(10),e()()(),t(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"input",11),g("ngModelChange",function(b){return i.q=b}),e(),t(17,"span",12)(18,"button",13),g("click",function(){return i.search()}),s(19,"img",14),e()()()()(),t(20,"div",15)(21,"div",16)(22,"a",17),n(23,"Add Bills"),s(24,"i",18),e()()()()(),t(25,"div",19)(26,"h4"),n(27,"Filter By :"),e(),t(28,"div",7)(29,"div",20)(30,"div",21)(31,"label"),n(32,"Bill No"),e(),t(33,"input",22),g("ngModelChange",function(b){return i.id=b})("keyup.enter",function(){return i.onEnterRequest()}),e()()(),t(34,"div",20)(35,"div",21)(36,"label"),n(37,"Recipient ID"),e(),t(38,"input",22),g("ngModelChange",function(b){return i.receiver_id=b})("keyup.enter",function(){return i.onEnterReceiver()}),e()()(),t(39,"div",20)(40,"div",21)(41,"label"),n(42,"Property ID"),e(),t(43,"input",22),g("ngModelChange",function(b){return i.catalog_id=b})("keyup.enter",function(){return i.onEnterCatalog()}),e()()()()(),t(44,"div",23)(45,"div",24)(46,"div",25)(47,"div",26)(48,"div",27),n(49,"Bill No."),e(),t(50,"div",27),n(51,"Recipient"),e(),t(52,"div",27),n(53,"Property ID"),e(),t(54,"div",27),n(55,"Update"),e(),t(56,"div",27),n(57,"Due Date"),e(),t(58,"div",27),n(59,"Status"),e()()(),t(60,"div",28),x(61,ri,2,0),E(62,"async"),x(63,mi,8,10),e()()()()),a&2&&(o(10),C(i.title),o(6),p("ngModel",i.q)("ngModelOptions",D(13,Je)),o(6),_("routerLink","/bills/",i.gs.billUrl,""),o(11),p("ngModel",i.id)("ngModelOptions",D(14,Je)),o(5),p("ngModel",i.receiver_id)("ngModelOptions",D(15,Je)),o(5),p("ngModel",i.catalog_id)("ngModelOptions",D(16,Je)),o(18),y(61,w(62,11,i.loading)?61:63))},dependencies:[Y,K,H,W,Pe,Ne,Ue,Ve,Ke,Ge,Ae]});let r=m;return r})();var _t=(()=>{let m=class m{};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=F({type:m,selectors:[["app-issued"]],standalone:!0,features:[L],decls:1,vars:0,template:function(a,i){a&1&&s(0,"router-outlet")},dependencies:[he]});let r=m;return r})();var Fe=()=>({height:"10px",width:"100%"});function di(r,m){r&1&&(t(0,"div",24)(1,"div",21)(2,"div",22),s(3,"ngx-skeleton-loader",25),e(),t(4,"div",22),s(5,"ngx-skeleton-loader",25),e(),t(6,"div",22),s(7,"ngx-skeleton-loader",25),e(),t(8,"div",22),s(9,"ngx-skeleton-loader",25),e(),t(10,"div",22),s(11,"ngx-skeleton-loader",25),e(),t(12,"div",22),s(13,"ngx-skeleton-loader",25),e()()()),r&2&&(o(3),p("theme",D(6,Fe)),o(2),p("theme",D(7,Fe)),o(2),p("theme",D(8,Fe)),o(2),p("theme",D(9,Fe)),o(2),p("theme",D(10,Fe)),o(2),p("theme",D(11,Fe)))}function si(r,m){if(r&1&&V(0,di,14,12,"div",26,P),r&2){let d=u();U(d.gs.generateFake(3))}}function ci(r,m){if(r&1&&s(0,"div",29),r&2){let d=m.$implicit;p("item",d)}}function pi(r,m){r&1&&(t(0,"div",30),n(1,"Request not found."),e())}function ui(r,m){if(r&1){let d=A();t(0,"div",31)(1,"app-pagination",32),g("getPage",function(a){R(d);let i=u(2);return k(i.handlePagination(a))}),E(2,"async"),e()()}if(r&2){let d=u(2),l;o(1),p("pagination",(l=w(2,2,d.catalogs))==null?null:l.pagination)("page",d.params.page)}}function vi(r,m){if(r&1&&(V(0,ci,1,1,"div",33,P),E(2,"async"),x(3,pi,2,0,"div",27),E(4,"async"),E(5,"async"),x(6,ui,3,4,"div",28),E(7,"async")),r&2){let d=u(),l,a,i;U((l=w(2,2,d.catalogs))==null?null:l.items),o(3),y(3,((a=w(4,4,d.catalogs))==null?null:a.items)===null||((a=w(5,6,d.catalogs))==null?null:a.items.length)===0?3:-1),o(3),y(6,((i=w(7,8,d.catalogs))==null||i.pagination==null?null:i.pagination.totalCount)>d.params["per-page"]?6:-1)}}var Qe=()=>({standalone:!0}),X=(()=>{let m=class m{constructor(l,a){this.gs=l,this.activeRoute=a,this.catalogs=this.gs.store.select(j.RequestSelectors[I.Request.listing]),this.loading=this.gs.store.select(j.RequestLoadingKey[`${I.Request.listing}Loading`]),this.params={q:"",sort:"-id",catalog_id:"",id:"",receiver_id:"",type:"bill",page:1,"per-page":20},this.q="",this.catalog_id="",this.receiver_id="",this.id="",this.title="Pending Bills",this.url=""}ngOnInit(){let l=this.activeRoute.snapshot.routeConfig?.data;this.title=this.activeRoute.snapshot.title,this.url=`/bills/received/${l.relation}/view/`,this.params=Object.assign({},this.params,{status:l.status}),this.onLoad()}onLoad(){let l=G.RequestParams({method:"GET",params:null,params2:this.params,key:I.Request.listing});this.gs.store.dispatch(l)}search(){this.params=Object.assign({},this.params,{q:this.q,page:1}),this.onLoad()}onEnterRequest(){this.params=Object.assign({},this.params,{id:this.id,page:1}),this.onLoad()}onEnterCatalog(){this.params=Object.assign({},this.params,{catalog_id:this.catalog_id,page:1}),this.onLoad()}onEnterReceiver(){this.params=Object.assign({},this.params,{receiver_id:this.receiver_id,page:1}),this.onLoad()}handleStatus(l){let{value:a}=l.target;this.params=Object.assign({},this.params,{is_assign:a,page:1}),this.onLoad()}handlePagination(l){this.params=Object.assign({},this.params,{page:l}),this.onLoad()}};m.\u0275fac=function(a){return new(a||m)(h(M),h(ne))},m.\u0275cmp=F({type:m,selectors:[["app-received-listing"]],standalone:!0,features:[L],decls:54,vars:16,consts:[[1,"request-listing-page","bills-listing-page"],[1,"searchtop"],[1,"row"],[1,"col-sm-10"],[1,"searchdiv"],[1,"input-group"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"input-group-text"],["type","button",1,"btn",3,"click"],["src","assets/search-meg.svg","alt","Search"],[1,"col-sm-2"],[1,"btndiv"],[1,"btn","btn-primary",3,"routerLink"],[1,"fas","fa-plus"],[1,"rl-filter"],[1,"col-sm-4"],[1,"form-group"],["type","text","name","requestno",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],[1,"listingdiv"],[1,"listingbox"],[1,"propertytop"],[1,"row","align-items-center"],[1,"col"],[1,"propertybottom"],[1,"propertylist"],["count","1",3,"theme"],["class","propertylist"],["class","notfound"],["class",""],["app-issued-listing-item","",1,"propertylist",3,"item"],[1,"notfound"],[1,""],[3,"pagination","page","getPage"],["app-issued-listing-item","","class","propertylist",3,"item"]],template:function(a,i){a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),g("ngModelChange",function(b){return i.q=b}),e(),t(7,"span",7)(8,"button",8),g("click",function(){return i.search()}),s(9,"img",9),e()()()()(),t(10,"div",10)(11,"div",11)(12,"a",12),n(13,"Add Bills"),s(14,"i",13),e()()()()(),t(15,"div",14)(16,"h4"),n(17,"Filter By :"),e(),t(18,"div",2)(19,"div",15)(20,"div",16)(21,"label"),n(22,"Bill No"),e(),t(23,"input",17),g("ngModelChange",function(b){return i.id=b})("keyup.enter",function(){return i.onEnterRequest()}),e()()(),t(24,"div",15)(25,"div",16)(26,"label"),n(27,"Recipient ID"),e(),t(28,"input",17),g("ngModelChange",function(b){return i.receiver_id=b})("keyup.enter",function(){return i.onEnterReceiver()}),e()()(),t(29,"div",15)(30,"div",16)(31,"label"),n(32,"Property ID"),e(),t(33,"input",17),g("ngModelChange",function(b){return i.catalog_id=b})("keyup.enter",function(){return i.onEnterCatalog()}),e()()()()(),t(34,"div",18)(35,"div",19)(36,"div",20)(37,"div",21)(38,"div",22),n(39,"Bill No."),e(),t(40,"div",22),n(41,"Recipient"),e(),t(42,"div",22),n(43,"Property ID"),e(),t(44,"div",22),n(45,"Update"),e(),t(46,"div",22),n(47,"Due Date"),e(),t(48,"div",22),n(49,"Status"),e()()(),t(50,"div",23),x(51,si,2,0),E(52,"async"),x(53,vi,8,10),e()()()()),a&2&&(o(6),p("ngModel",i.q)("ngModelOptions",D(12,Qe)),o(6),_("routerLink","/bills/",i.gs.billUrl,""),o(11),p("ngModel",i.id)("ngModelOptions",D(13,Qe)),o(5),p("ngModel",i.receiver_id)("ngModelOptions",D(14,Qe)),o(5),p("ngModel",i.catalog_id)("ngModelOptions",D(15,Qe)),o(18),y(51,w(52,10,i.loading)?51:53))},dependencies:[K,H,W,Pe,Ne,Y,Ue,Ve,Ke,Ge,Ae]});let r=m;return r})();function gi(r,m){r&1&&z(0)}function _i(r,m){r&1&&z(0)}function fi(r,m){if(r&1&&(t(0,"div",12),x(1,gi,1,0,"ng-container",13)(2,_i,1,0,"ng-container",13),e()),r&2){u();let d=T(21),l=T(23);o(1),p("ngTemplateOutlet",d),o(1),p("ngTemplateOutlet",l)}}function hi(r,m){r&1&&z(0)}function yi(r,m){r&1&&z(0)}function Ci(r,m){if(r&1&&(t(0,"div",12),x(1,hi,1,0,"ng-container",13)(2,yi,1,0,"ng-container",13),e()),r&2){u();let d=T(19),l=T(23);o(1),p("ngTemplateOutlet",d),o(1),p("ngTemplateOutlet",l)}}function xi(r,m){r&1&&z(0)}function Si(r,m){r&1&&z(0)}function bi(r,m){r&1&&z(0)}function Ei(r,m){if(r&1&&(t(0,"div",12),x(1,xi,1,0,"ng-container",13)(2,Si,1,0,"ng-container",13)(3,bi,1,0,"ng-container",13),e()),r&2){u();let d=T(19),l=T(21),a=T(23);o(1),p("ngTemplateOutlet",d),o(1),p("ngTemplateOutlet",l),o(1),p("ngTemplateOutlet",a)}}function wi(r,m){r&1&&z(0)}function Ri(r,m){r&1&&z(0)}function ki(r,m){r&1&&z(0)}function Di(r,m){if(r&1&&(t(0,"div",12),x(1,wi,1,0,"ng-container",13)(2,Ri,1,0,"ng-container",13)(3,ki,1,0,"ng-container",13),e()),r&2){u();let d=T(19),l=T(21),a=T(25);o(1),p("ngTemplateOutlet",d),o(1),p("ngTemplateOutlet",l),o(1),p("ngTemplateOutlet",a)}}var me=()=>["active"];function Ti(r,m){if(r&1&&(t(0,"div",14)(1,"button",15),n(2," Property Owners(6) "),e(),t(3,"ul",16)(4,"li")(5,"a",17),n(6,"Pending Requests"),e()(),t(7,"li")(8,"a",18),n(9,"Requests History"),e()()()()),r&2){let d=u();o(1),Be("active",d.router.isActive("/bills/received/owner",!1)),o(4),p("routerLinkActive",D(4,me)),o(3),p("routerLinkActive",D(5,me))}}function Ii(r,m){if(r&1&&(t(0,"div",14)(1,"button",15),n(2," Property Managers(6) "),e(),t(3,"ul",16)(4,"li")(5,"a",19),n(6,"Pending Requests"),e()(),t(7,"li")(8,"a",20),n(9,"Requests History"),e()()()()),r&2){let d=u();o(1),Be("active",d.router.isActive("/bills/received/manager",!1)),o(4),p("routerLinkActive",D(4,me)),o(3),p("routerLinkActive",D(5,me))}}function Fi(r,m){if(r&1&&(t(0,"div",14)(1,"button",15),n(2," Vendor (10) "),e(),t(3,"ul",16)(4,"li")(5,"a",21),n(6,"Pending Requests"),e()(),t(7,"li")(8,"a",22),n(9,"Requests History"),e()()()()),r&2){let d=u();o(1),Be("active",d.router.isActive("/bills/received/vendor",!1)),o(4),p("routerLinkActive",D(4,me)),o(3),p("routerLinkActive",D(5,me))}}function Li(r,m){if(r&1&&(t(0,"div",14)(1,"button",15),n(2," Tenants (10) "),e(),t(3,"ul",16)(4,"li")(5,"a",23),n(6,"Pending Requests"),e()(),t(7,"li")(8,"a",24),n(9,"Requests History"),e()()()()),r&2){let d=u();o(1),Be("active",d.router.isActive("/bills/received/tenant",!1)),o(4),p("routerLinkActive",D(4,me)),o(3),p("routerLinkActive",D(5,me))}}var ft=(()=>{let m=class m{constructor(l,a,i){this.gs=l,this.router=a,this.activeRoute=i,this.Enums=O}ngOnInit(){this.activeRoute.url.subscribe(l=>{this.checkRouts()})}checkRouts(){if(this.router.url==="/bills/received")switch(this.gs.identity?.role){case O.ROLE_MANAGERS:case O.ROLE_VENDORS:this.gs.router("/bills/received/tenant/pending-requests");break;case O.ROLE_OWNER:case O.ROLE_USER:this.gs.router("/bills/received/tenant/pending-requests");break;default:this.gs.router("/bills/received/tenant/pending-requests");break}}};m.\u0275fac=function(a){return new(a||m)(h(M),h(ye),h(ne))},m.\u0275cmp=F({type:m,selectors:[["app-received"]],standalone:!0,features:[L],decls:27,vars:4,consts:[[1,"request-listing-page"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["routerLink","/bills/received"],["aria-current","page",1,"breadcrumb-item","active"],["class","menu mb-4"],["owners",""],["managers",""],["vendor",""],["tenants",""],[1,"menu","mb-4"],[4,"ngTemplateOutlet"],["ngbDropdown","",1,"d-inline-block"],["type","button","ngbDropdownToggle","",1,"btn","btn-secondary"],["ngbDropdownMenu","",1,"dropdown-menu"],["routerLink","/bills/received/owner/pending-requests",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/bills/received/owner/requests-history",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/bills/received/manager/pending-requests",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/bills/received/manager/requests-history",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/bills/received/vendor/pending-requests",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/bills/received/vendor/requests-history",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/bills/received/tenant/pending-requests",1,"dropdown-item",3,"routerLinkActive"],["routerLink","/bills/received/tenant/requests-history",1,"dropdown-item",3,"routerLinkActive"]],template:function(a,i){a&1&&(t(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),n(5,"Home"),e()(),t(6,"li",3)(7,"a",5),n(8,"Requests"),e()(),t(9,"li",3)(10,"a",5),n(11,"Received Requests"),e()(),t(12,"li",6),n(13," Pending Requests "),e()()(),x(14,fi,3,2,"div",7)(15,Ci,3,2,"div",7)(16,Ei,4,3,"div",7)(17,Di,4,3,"div",7)(18,Ti,10,6,"ng-template",null,8,Oe)(20,Ii,10,6,"ng-template",null,9,Oe)(22,Fi,10,6,"ng-template",null,10,Oe)(24,Li,10,6,"ng-template",null,11,Oe),s(26,"router-outlet"),e()),a&2&&(o(14),y(14,i.gs.is_owner?14:-1),o(1),y(15,i.gs.is_manager?15:-1),o(1),y(16,i.gs.is_tenant?16:-1),o(1),y(17,i.gs.is_vendor?17:-1))},dependencies:[Y,nt,ie,te,ee,je,he]});let r=m;return r})();var Dr=[{path:"",component:dt,canActivate:[st],children:[{path:"bills",redirectTo:"bills/issued"},{path:"bills",component:Te,children:[{path:"bill-owner",component:qe,title:"Bill Owner"},{path:"bill-manager",component:qe,title:"Bill Manager"},{path:"bill-vendor",component:qe,title:"Bill Vendor"},{path:"bill-tenant",component:qe,title:"Bill Tenant"},{path:"issued",redirectTo:"issued/pending-requests"},{path:"issued",component:_t,children:[{path:"pending-requests",component:it,title:"Pending Bills",data:{status:"1"}},{path:"requests-history",component:it,title:"Bills History",data:{status:"1,2,3,4"}},{path:"view/:id",component:le,title:"Bill View",data:{key:"issue",relation:"all"}}]},{path:"received",component:ft,title:"Received Requests",children:[{path:"owner",component:Te,children:[{path:"pending-requests",component:X,title:"Pending Bill",data:{relation:"owner",status:"1"}},{path:"requests-history",component:X,title:"Bill History",data:{relation:"owner",status:"1,2,3,4"}},{path:"view/:id",component:le,title:"Bill View",data:{key:"received",relation:"owner"}}]},{path:"manager",component:Te,children:[{path:"pending-requests",component:X,title:"Pending Bill",data:{relation:"manager",status:"1"}},{path:"requests-history",component:X,title:"Bill History",data:{relation:"manager",status:"1,2,3,4"}},{path:"view/:id",component:le,title:"Bill View",data:{key:"received",relation:"manager"}}]},{path:"vendor",component:Te,children:[{path:"pending-requests",component:X,title:"Pending Bill",data:{relation:"vendor",status:"1"}},{path:"requests-history",component:X,title:"Bill History",data:{relation:"vendor",status:"1,2,3,4"}},{path:"view/:id",component:le,title:"Bill View",data:{key:"received",relation:"vendor"}}]},{path:"tenant",component:Te,children:[{path:"pending-requests",component:X,title:"Pending Bill",data:{relation:"tenant",status:"1"}},{path:"requests-history",component:X,title:"Bill History",data:{relation:"tenant",status:"1,2,3,4"}},{path:"view/:id",component:le,title:"Bill View",data:{key:"received",relation:"tenant"}}]},{path:"view/:id",component:le,title:"Bill View",data:{key:"received",relation:"all"}}]},{path:"view/:id",component:le,title:"Bills View"}]}]}];export{Dr as default};
