import{a as ne}from"./chunk-TZBH4JM4.js";import{c as ie}from"./chunk-HG6MGHQF.js";import"./chunk-DXHDX45W.js";import{$a as Y,A as K,Da as w,N as $,Nb as X,O as J,Q as b,Sc as E,Tc as te,Ub as Z,Vb as ee,ab as Q,na as I,q as V,u as H}from"./chunk-CKIWQN5W.js";import{R as W,ba as k}from"./chunk-MAJ4KHTQ.js";import"./chunk-62YZNTYL.js";import{$b as D,Cc as m,Db as a,Dc as q,Eb as y,Ec as A,Fc as F,Ga as C,Id as R,Kc as L,La as U,Lc as P,Ma as B,Mc as z,Pb as g,Qd as j,Rc as d,Sc as u,Sd as G,Xb as h,Yb as v,Zb as T,_b as M,gc as l,hc as p,ic as s,mc as O,tc as x,ub as f,vc as c,yc as N,zc as S}from"./chunk-UT4UL2LR.js";function me(e,i){if(e&1&&(l(0,"span",13),m(1),d(2,"titlecase"),p()),e&2){let n=c();a(1),F("",u(2,2,n.q_param==null?null:n.q_param.property_classification),"",n.q_param!=null&&n.q_param.property_purpose?",":""," ")}}function ce(e,i){if(e&1&&(l(0,"span",14),m(1),d(2,"titlecase"),p()),e&2){let n=c();a(1),F("For ",u(2,2,n.q_param==null?null:n.q_param.property_purpose),"",n.q_param!=null&&n.q_param.q_location?",":""," ")}}function de(e,i){if(e&1&&(l(0,"span",15),m(1),p()),e&2){let n=c();a(1),q(n.q_param==null?null:n.q_param.q_location)}}var ue=e=>({active:e}),oe=(()=>{let i=class i{constructor(r,o,t){this.gs=r,this.confirmDialog=o,this.itemService=t,this.loading=!1}ngOnInit(){}get q_param(){return this.item.q_param?JSON.parse(this.item.q_param):null}edit(){}remove(){this.confirmDialog.confirm({header:"Delete Saved Search?",icon:`<img src="${this.gs.imgUrl}/reject.svg" alt="" />`,message:"Are you sure you want to delete saved search?"},()=>{this.loading=!0,this.itemService.search("DELETE",null,{primary_id:this.item.id}).subscribe(r=>{this.loading=!1;let o=I.SearchDelete({item:this.item,key:b.Search.listing});this.gs.store.dispatch(o)},r=>{this.loading=!1})},()=>console.log("No clicked"))}};i.\u0275fac=function(o){return new(o||i)(y(E),y(Z),y(te))},i.\u0275cmp=C({type:i,selectors:[["app-saved-listing-item"],["","app-saved-listing-item",""]],inputs:{item:"item"},standalone:!0,features:[L],decls:16,vars:13,consts:[[1,"row","align-items-center"],[1,"col-sm-7"],[3,"ngClass"],[3,"routerLink","queryParams","queryParamsHandling"],[1,"catname","text-truncate",3,"title"],["class","classification"],["class","for"],["class","location"],[1,"col-sm-5"],[1,"btndiv"],[1,"status"],["type","button",1,"edit",3,"appLadda","click"],["alt","",3,"src"],[1,"classification"],[1,"for"],[1,"location"]],template:function(o,t){if(o&1&&(l(0,"div",0)(1,"div",1)(2,"h3",2)(3,"a",3),m(4),p()(),l(5,"div",4),h(6,me,3,4,"span",5)(7,ce,3,4,"span",6)(8,de,2,1,"span",7),p()(),l(9,"div",8)(10,"div",9)(11,"div",10),m(12,"Subscriptions are ON"),p(),l(13,"button",11),x("click",function(){return t.remove()}),s(14,"img",12),m(15,"Delete "),p()()()()),o&2){let _;a(2),g("ngClass",z(11,ue,t.item.params==="")),a(1),g("routerLink",(_=t.item.url)!==null&&_!==void 0?_:"/")("queryParams",t.q_param)("queryParamsHandling","merge"),a(1),A(" ",t.item.params?t.item.params:"You haven't selected any Type",""),a(1),N("title",t.q_param==null?null:t.q_param.q_location),a(1),v(6,t.q_param!=null&&t.q_param.property_classification?6:-1),a(1),v(7,t.q_param!=null&&t.q_param.property_purpose?7:-1),a(1),v(8,t.q_param!=null&&t.q_param.q_location?8:-1),a(5),g("appLadda",t.loading),a(1),S("src","",t.gs.imgUrl,"/trash-2.svg",f)}},dependencies:[k,X,R,G],styles:["h3.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:initial}"]});let e=i;return e})();var ge=()=>({height:"10px",width:"100%"});function ve(e,i){e&1&&(l(0,"div",21),s(1,"ngx-skeleton-loader",22),p()),e&2&&(a(1),g("theme",P(1,ge)))}function _e(e,i){if(e&1&&M(0,ve,2,2,"div",23,T),e&2){let n=c();D(n.gs.generateFake(3))}}function fe(e,i){if(e&1&&s(0,"div",26),e&2){let n=i.$implicit;g("item",n)}}function he(e,i){if(e&1){let n=O();l(0,"div",27)(1,"app-pagination",28),x("getPage",function(o){U(n);let t=c(2);return B(t.handlePagination(o))}),d(2,"async"),p()()}if(e&2){let n=c(2);a(1),g("pagination",u(2,2,n.catalog))("page",n.page)}}function Se(e,i){if(e&1&&(l(0,"div",29),s(1,"img",8),p()),e&2){let n=c(2);a(1),S("src","",n.gs.imgUrl,"/saved-search.svg",f)}}function Ce(e,i){if(e&1&&(M(0,fe,1,1,"div",30,T),d(2,"async"),h(3,he,3,4,"div",24),d(4,"async"),h(5,Se,2,1,"div",25),d(6,"async"),d(7,"async")),e&2){let n=c(),r,o,t;D((r=u(2,2,n.catalog))==null?null:r.items),a(3),v(3,((o=u(4,4,n.catalog))==null?null:o.total)>20?3:-1),a(2),v(5,((t=u(6,6,n.catalog))==null?null:t.items)===null||((t=u(7,8,n.catalog))==null?null:t.items.length)===0?5:-1)}}var ye=()=>({standalone:!0}),re=(()=>{let i=class i{constructor(r){this.gs=r,this.catalog=this.gs.store.select(w.SearchSelectors[b.Search.listing]),this.loading=this.gs.store.select(w.SearchLoading),this.page=1,this.q=""}ngOnInit(){this.onLoad()}onLoad(r=0){let o={sort:"-id",q:this.q,page:r,size:20},t=I.SearchParams({method:"GET",params:null,params2:o,key:b.Search.listing});this.gs.store.dispatch(t)}search(){this.onLoad()}handlePagination(r){this.page=r,this.onLoad(r-1)}};i.\u0275fac=function(o){return new(o||i)(y(E))},i.\u0275cmp=C({type:i,selectors:[["app-saved-listing"]],standalone:!0,features:[L],decls:32,vars:12,consts:[[1,"saved-listing-page"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"addtop"],["routerLink","."],["alt","",3,"src"],[1,"row"],[1,"col-sm-6"],[1,"title"],[1,"searchdiv"],[1,"input-group"],["type","text","placeholder","New search",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],["id","basic-addon2",1,"input-group-text"],["type","button",3,"click"],[1,"col-sm-10"],[1,"pagebox"],[1,"col-sm-2"],[1,"addright"],[1,"profilebox"],["count","2",3,"theme"],["class","profilebox"],["class",""],["class","notfound"],["app-saved-listing-item","",1,"profilebox",3,"item"],[1,""],[3,"pagination","page","getPage"],[1,"notfound"],["class","profilebox","app-saved-listing-item","",3,"item"]],template:function(o,t){o&1&&(l(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),m(5),p()(),l(6,"li",5),m(7),p()()(),l(8,"div",6)(9,"a",7),s(10,"img",8),p()(),l(11,"div",9)(12,"div",10)(13,"h1",11),m(14),p()(),l(15,"div",10)(16,"div",12)(17,"div",13)(18,"input",14),x("ngModelChange",function(pe){return t.q=pe})("keyup.enter",function(){return t.search()}),p(),l(19,"span",15)(20,"button",16),x("click",function(){return t.search()}),s(21,"img",8),p()()()()()(),l(22,"div",9)(23,"div",17)(24,"div",18),h(25,_e,2,0),d(26,"async"),h(27,Ce,8,10),p()(),l(28,"div",19)(29,"div",20)(30,"a",7),s(31,"img",8),p()()()()()),o&2&&(a(5),q("Home"),a(2),q("Saved Searches"),a(3),S("src","",t.gs.imgUrl,"/addtop.png",f),a(4),q("Saved Searches"),a(4),g("ngModel",t.q)("ngModelOptions",P(11,ye)),a(3),S("src","",t.gs.imgUrl,"/search-btn-2.svg",f),a(4),v(25,u(26,9,t.loading)?25:27),a(6),S("src","",t.gs.imgUrl,"/addright.png",f))},dependencies:[k,J,V,H,$,K,Q,Y,oe,ee,j]});let e=i;return e})();var le=(()=>{let i=class i{constructor(){}ngOnInit(){}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=C({type:i,selectors:[["app-saved-searches"]],standalone:!0,features:[L],decls:1,vars:0,template:function(o,t){o&1&&s(0,"router-outlet")},dependencies:[W]});let e=i;return e})();var $e=[{path:"",component:ie,canActivate:[ne],children:[{path:"saved-searches",redirectTo:"saved-searches/listing"},{path:"saved-searches",component:le,children:[{path:"listing",component:re,title:"Saved Searches"}]}]}];export{$e as default};
